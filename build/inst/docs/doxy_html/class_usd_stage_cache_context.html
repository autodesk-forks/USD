<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: UsdStageCacheContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_usd_stage_cache_context.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_usd_stage_cache_context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UsdStageCacheContext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A context object that lets the <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> API read from or read from and write to a <a class="el" href="class_usd_stage_cache.html" title="A strongly concurrency safe collection of UsdStageRefPtr s, enabling sharing across multiple clients ...">UsdStageCache</a> instance during a scope of execution.  
 <a href="class_usd_stage_cache_context.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a74e9dc1f54babbd86609dc563fc6b2cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_stage_cache_context.html#a74e9dc1f54babbd86609dc563fc6b2cd">UsdStageCacheContext</a> (<a class="el" href="class_usd_stage_cache.html">UsdStageCache</a> &amp;cache)</td></tr>
<tr class="memdesc:a74e9dc1f54babbd86609dc563fc6b2cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a cache for calls to <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> to read from and write to.  <a href="#a74e9dc1f54babbd86609dc563fc6b2cd">More...</a><br /></td></tr>
<tr class="separator:a74e9dc1f54babbd86609dc563fc6b2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e9970659b6bc552a71ed4021a4e515"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_stage_cache_context.html#a55e9970659b6bc552a71ed4021a4e515">UsdStageCacheContext</a> (Usd_NonPopulatingStageCacheWrapper holder)</td></tr>
<tr class="memdesc:a55e9970659b6bc552a71ed4021a4e515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a cache for calls to <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> to read from.  <a href="#a55e9970659b6bc552a71ed4021a4e515">More...</a><br /></td></tr>
<tr class="separator:a55e9970659b6bc552a71ed4021a4e515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac0954168dc8a48ae78a1a602ac309a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_stage_cache_context.html#afac0954168dc8a48ae78a1a602ac309a">UsdStageCacheContext</a> (UsdStageCacheContextBlockType blockType)</td></tr>
<tr class="memdesc:afac0954168dc8a48ae78a1a602ac309a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable cache use completely (with UsdBlockStageCaches) or only for writing (with UsdBlockStageCacheWrites).  <a href="#afac0954168dc8a48ae78a1a602ac309a">More...</a><br /></td></tr>
<tr class="separator:afac0954168dc8a48ae78a1a602ac309a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab763ff44a10a7cbf08ec18a4557203e3"><td class="memItemLeft" align="right" valign="top"><a id="ab763ff44a10a7cbf08ec18a4557203e3"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>UsdStage</b></td></tr>
<tr class="separator:ab763ff44a10a7cbf08ec18a4557203e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A context object that lets the <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> API read from or read from and write to a <a class="el" href="class_usd_stage_cache.html" title="A strongly concurrency safe collection of UsdStageRefPtr s, enabling sharing across multiple clients ...">UsdStageCache</a> instance during a scope of execution. </p>
<p>Code examples illustrate typical use: </p><div class="fragment"><div class="line">{</div><div class="line">    <span class="comment">// A stage cache to work with.</span></div><div class="line">    <a class="code" href="class_usd_stage_cache.html">UsdStageCache</a> stageCache;</div><div class="line"></div><div class="line">    <span class="comment">// Bind this cache.  UsdStage::Open() will attempt to find a matching</span></div><div class="line">    <span class="comment">// stage in the cache.  If none is found, it will open a new stage and</span></div><div class="line">    <span class="comment">// insert it into the cache.</span></div><div class="line">    <a class="code" href="class_usd_stage_cache_context.html">UsdStageCacheContext</a> context(stageCache);</div><div class="line"></div><div class="line">    <span class="comment">// Since the cache is currently empty, this Open call will not find an</span></div><div class="line">    <span class="comment">// existing stage in the cache, but will insert the newly opened stage</span></div><div class="line">    <span class="comment">// in it.</span></div><div class="line">    <span class="keyword">auto</span> stage = <a class="code" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380">UsdStage::Open</a>(&lt;args&gt;);</div><div class="line"></div><div class="line">    assert(stageCache.<a class="code" href="class_usd_stage_cache.html#a261371f98556781a039419355515d2fd">Contains</a>(stage));</div><div class="line">    </div><div class="line">    <span class="comment">// A subsequent Open() call with the same arguments will retrieve the</span></div><div class="line">    <span class="comment">// stage from cache.</span></div><div class="line">    <span class="keyword">auto</span> stage2 = <a class="code" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380">UsdStage::Open</a>(&lt;args&gt;);</div><div class="line">    assert(stage2 == stage);</div><div class="line">}</div></div><!-- fragment --><p>The <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> API examines caches in UsdStageCacheContexts that exist on the stack in the current thread in order starting with the most recently created (deepest in the stack) to the least recently created.</p>
<p>The UsdUseButDoNotPopulateCache() function makes a cache available for <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> to find stages in, but newly opened stages will not be published to it. This can be useful if you want to make use of a cache but cannot or do not wish to mutate that cache.</p>
<p>Passing UsdBlockStageCaches disables cache use entirely (as if no UsdStageCacheContexts exist on the stack), while UsdBlockStageCachePopulation disables writing to all bound caches (as if they were all established with UsdUseButDoNotPopulateCache()).</p>
<p>Threading note: Different threads have different call stacks, so <a class="el" href="class_usd_stage_cache_context.html" title="A context object that lets the UsdStage::Open() API read from or read from and write to a UsdStageCac...">UsdStageCacheContext</a> objects that exist in one thread's stack do not influence calls to <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> from a different thread. </p>

<p class="definition">Definition at line <a class="el" href="stage_cache_context_8h_source.html#l00121">121</a> of file <a class="el" href="stage_cache_context_8h_source.html">stageCacheContext.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a74e9dc1f54babbd86609dc563fc6b2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e9dc1f54babbd86609dc563fc6b2cd">&#9670;&nbsp;</a></span>UsdStageCacheContext() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_usd_stage_cache_context.html">UsdStageCacheContext</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_usd_stage_cache.html">UsdStageCache</a> &amp;&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bind a cache for calls to <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> to read from and write to. </p>

<p class="definition">Definition at line <a class="el" href="stage_cache_context_8h_source.html#l00125">125</a> of file <a class="el" href="stage_cache_context_8h_source.html">stageCacheContext.h</a>.</p>

</div>
</div>
<a id="a55e9970659b6bc552a71ed4021a4e515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e9970659b6bc552a71ed4021a4e515">&#9670;&nbsp;</a></span>UsdStageCacheContext() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_usd_stage_cache_context.html">UsdStageCacheContext</a> </td>
          <td>(</td>
          <td class="paramtype">Usd_NonPopulatingStageCacheWrapper&#160;</td>
          <td class="paramname"><em>holder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bind a cache for calls to <a class="el" href="class_usd_stage.html#abd74eb9ec70572c2dadaf4cd07144380" title="Attempt to find a matching existing stage in a cache if UsdStageCacheContext objects exist on the sta...">UsdStage::Open()</a> to read from. </p>
<dl class="section see"><dt>See also</dt><dd>UsdUseButDoNotPopulateCache() </dd></dl>

<p class="definition">Definition at line <a class="el" href="stage_cache_context_8h_source.html#l00132">132</a> of file <a class="el" href="stage_cache_context_8h_source.html">stageCacheContext.h</a>.</p>

</div>
</div>
<a id="afac0954168dc8a48ae78a1a602ac309a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac0954168dc8a48ae78a1a602ac309a">&#9670;&nbsp;</a></span>UsdStageCacheContext() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_usd_stage_cache_context.html">UsdStageCacheContext</a> </td>
          <td>(</td>
          <td class="paramtype">UsdStageCacheContextBlockType&#160;</td>
          <td class="paramname"><em>blockType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable cache use completely (with UsdBlockStageCaches) or only for writing (with UsdBlockStageCacheWrites). </p>

<p class="definition">Definition at line <a class="el" href="stage_cache_context_8h_source.html#l00139">139</a> of file <a class="el" href="stage_cache_context_8h_source.html">stageCacheContext.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/usd/usd/<a class="el" href="stage_cache_context_8h_source.html">stageCacheContext.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_usd_stage_cache_context.html">UsdStageCacheContext</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:11 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>