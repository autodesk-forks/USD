<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: GlfGLContextScopeHolder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_glf_g_l_context_scope_holder.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_glf_g_l_context_scope_holder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GlfGLContextScopeHolder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class to make a GL context current.  
 <a href="class_glf_g_l_context_scope_holder.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for GlfGLContextScopeHolder:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_glf_g_l_context_scope_holder__inherit__graph.png" border="0" usemap="#_glf_g_l_context_scope_holder_inherit__map" alt="Inheritance graph"/></div>
<map name="_glf_g_l_context_scope_holder_inherit__map" id="_glf_g_l_context_scope_holder_inherit__map">
<area shape="rect"  title="Helper class to make a GL context current." alt="" coords="143,5,333,32"/>
<area shape="rect"  href="class_glf_any_g_l_context_scope_holder.html" title="Helper class to make the shared GL context current if there is no valid current context,..." alt="" coords="5,80,221,107"/>
<area shape="rect"  href="class_glf_shared_g_l_context_scope_holder.html" title="Helper class to make the shared GL context current." alt="" coords="246,80,481,107"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac9c0101fe7f8467004625de589a5163c"><td class="memItemLeft" align="right" valign="top">GLF_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_glf_g_l_context_scope_holder.html#ac9c0101fe7f8467004625de589a5163c">GlfGLContextScopeHolder</a> (const GlfGLContextSharedPtr &amp;newContext)</td></tr>
<tr class="memdesc:ac9c0101fe7f8467004625de589a5163c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the given context current and restore the current context when this object is destroyed.  <a href="#ac9c0101fe7f8467004625de589a5163c">More...</a><br /></td></tr>
<tr class="separator:ac9c0101fe7f8467004625de589a5163c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7106d0bdc4a054823aee13102d08c295"><td class="memItemLeft" align="right" valign="top"><a id="a7106d0bdc4a054823aee13102d08c295"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GlfGLContextScopeHolder</b> (const <a class="el" href="class_glf_g_l_context_scope_holder.html">GlfGLContextScopeHolder</a> &amp;)=delete</td></tr>
<tr class="separator:a7106d0bdc4a054823aee13102d08c295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f6c66a1252b2a5a6d18e0a18cf3d177"><td class="memItemLeft" align="right" valign="top"><a id="a5f6c66a1252b2a5a6d18e0a18cf3d177"></a>
<a class="el" href="class_glf_g_l_context_scope_holder.html">GlfGLContextScopeHolder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_glf_g_l_context_scope_holder.html">GlfGLContextScopeHolder</a>)=delete</td></tr>
<tr class="separator:a5f6c66a1252b2a5a6d18e0a18cf3d177"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9c1b647a70ebbec19fd18771eabf9165"><td class="memItemLeft" align="right" valign="top"><a id="a9c1b647a70ebbec19fd18771eabf9165"></a>
GLF_API void&#160;</td><td class="memItemRight" valign="bottom"><b>_MakeNewContextCurrent</b> ()</td></tr>
<tr class="separator:a9c1b647a70ebbec19fd18771eabf9165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594e92a76231189d4ebe59ae1ad4e978"><td class="memItemLeft" align="right" valign="top"><a id="a594e92a76231189d4ebe59ae1ad4e978"></a>
GLF_API void&#160;</td><td class="memItemRight" valign="bottom"><b>_RestoreOldContext</b> ()</td></tr>
<tr class="separator:a594e92a76231189d4ebe59ae1ad4e978"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to make a GL context current. </p>
<p>It is often useful to wrap a dynamic GL resource with a class interface.</p>
<p>In addition to providing API to make it more convenient to use the underlying GL resource, the lifetime of the underlying resource can be tied to the lifetime of a wrapper object instance, e.g. allocate the GL resource during construction, delete the GL resource during destruction.</p>
<p>While the construction and use of these kinds of wrapper objects is usually pretty safe and straightforward, it can be more difficult to manage destruction. Specifically, it can be hard to guarantee that a suitable GL context is current at the time that a wrapper object instance is destroyed. If a suitable context is not current, then it will not be possible to delete the underlying resource, which may cause the resource to remain allocated, which will then result in a resource leak.</p>
<p>Typically, these GL resources are allocated from contexts which are sharing the GL resources. In which case it is sufficient for any one one of the sharing contexts to be current in order to be able to safely delete the GL resource from the destructor of a wrapper object.</p>
<p><a class="el" href="class_glf_g_l_context.html" title="Provides window system independent access to GL contexts.">GlfGLContext</a> and <a class="el" href="class_glf_g_l_context_scope_holder.html" title="Helper class to make a GL context current.">GlfGLContextScopeHolder</a> can help.</p>
<p>When <a class="el" href="class_glf_g_l_context.html" title="Provides window system independent access to GL contexts.">GlfGLContext</a> has been initialized, i.e. when suitable context callbacks have been registered, we can use <a class="el" href="class_glf_g_l_context.html" title="Provides window system independent access to GL contexts.">GlfGLContext</a> to make a GL context current.</p>
<p><a class="el" href="class_glf_g_l_context_scope_holder.html" title="Helper class to make a GL context current.">GlfGLContextScopeHolder</a> does this automatically for the duration of a code block.</p>
<p>The underlying calls to make GL contexts current can be moderately expensive. So, this mechanism should be used carefully. </p>

<p class="definition">Definition at line <a class="el" href="gl_context_8h_source.html#l00170">170</a> of file <a class="el" href="gl_context_8h_source.html">glContext.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac9c0101fe7f8467004625de589a5163c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9c0101fe7f8467004625de589a5163c">&#9670;&nbsp;</a></span>GlfGLContextScopeHolder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GLF_API <a class="el" href="class_glf_g_l_context_scope_holder.html">GlfGLContextScopeHolder</a> </td>
          <td>(</td>
          <td class="paramtype">const GlfGLContextSharedPtr &amp;&#160;</td>
          <td class="paramname"><em>newContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make the given context current and restore the current context when this object is destroyed. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/imaging/glf/<a class="el" href="gl_context_8h_source.html">glContext.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_glf_g_l_context_scope_holder.html">GlfGLContextScopeHolder</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:06:59 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>