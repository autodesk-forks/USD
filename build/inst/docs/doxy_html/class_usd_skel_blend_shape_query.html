<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: UsdSkelBlendShapeQuery Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_usd_skel_blend_shape_query.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_usd_skel_blend_shape_query-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UsdSkelBlendShapeQuery Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class used to resolve blend shape weights, including inbetweens.  
 <a href="class_usd_skel_blend_shape_query.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a42da9a6fe9432b3322b27c13075834"><td class="memItemLeft" align="right" valign="top"><a id="a4a42da9a6fe9432b3322b27c13075834"></a>
USDSKEL_API&#160;</td><td class="memItemRight" valign="bottom"><b>UsdSkelBlendShapeQuery</b> (const <a class="el" href="class_usd_skel_binding_a_p_i.html">UsdSkelBindingAPI</a> &amp;binding)</td></tr>
<tr class="separator:a4a42da9a6fe9432b3322b27c13075834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac532c4b500b1a85ea22217f2c65a70ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#ac532c4b500b1a85ea22217f2c65a70ed">IsValid</a> () const</td></tr>
<tr class="memdesc:ac532c4b500b1a85ea22217f2c65a70ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if this query is valid.  <a href="#ac532c4b500b1a85ea22217f2c65a70ed">More...</a><br /></td></tr>
<tr class="separator:ac532c4b500b1a85ea22217f2c65a70ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b76affb3b5d35fa419ac234144038b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a67b76affb3b5d35fa419ac234144038b">operator bool</a> () const</td></tr>
<tr class="memdesc:a67b76affb3b5d35fa419ac234144038b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean conversion operator. Equivalent to <a class="el" href="class_usd_skel_blend_shape_query.html#ac532c4b500b1a85ea22217f2c65a70ed" title="Return true if this query is valid.">IsValid()</a>.  <a href="#a67b76affb3b5d35fa419ac234144038b">More...</a><br /></td></tr>
<tr class="separator:a67b76affb3b5d35fa419ac234144038b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44ba4d2d2cd5b29ff6b2af537f5940c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_usd_prim.html">UsdPrim</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#ac44ba4d2d2cd5b29ff6b2af537f5940c">GetPrim</a> () const</td></tr>
<tr class="memdesc:ac44ba4d2d2cd5b29ff6b2af537f5940c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the prim the blend shapes apply to.  <a href="#ac44ba4d2d2cd5b29ff6b2af537f5940c">More...</a><br /></td></tr>
<tr class="separator:ac44ba4d2d2cd5b29ff6b2af537f5940c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18eddc0783655ddf3123a663487b9b0"><td class="memItemLeft" align="right" valign="top">USDSKEL_API <a class="el" href="class_usd_skel_blend_shape.html">UsdSkelBlendShape</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#af18eddc0783655ddf3123a663487b9b0">GetBlendShape</a> (size_t blendShapeIndex) const</td></tr>
<tr class="memdesc:af18eddc0783655ddf3123a663487b9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the blend shape corresponding to <code>blendShapeIndex</code>.  <a href="#af18eddc0783655ddf3123a663487b9b0">More...</a><br /></td></tr>
<tr class="separator:af18eddc0783655ddf3123a663487b9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe3a5f010a07904d47117fe28fc10b0"><td class="memItemLeft" align="right" valign="top">USDSKEL_API <a class="el" href="class_usd_skel_inbetween_shape.html">UsdSkelInbetweenShape</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#acbe3a5f010a07904d47117fe28fc10b0">GetInbetween</a> (size_t subShapeIndex) const</td></tr>
<tr class="memdesc:acbe3a5f010a07904d47117fe28fc10b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the inbetween shape corresponding to sub-shape <code>i</code>, if any.  <a href="#acbe3a5f010a07904d47117fe28fc10b0">More...</a><br /></td></tr>
<tr class="separator:acbe3a5f010a07904d47117fe28fc10b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630dabd28e9082665ba13b384381de2a"><td class="memItemLeft" align="right" valign="top">USDSKEL_API size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a630dabd28e9082665ba13b384381de2a">GetBlendShapeIndex</a> (size_t subShapeIndex) const</td></tr>
<tr class="memdesc:a630dabd28e9082665ba13b384381de2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the blend shape index corresponding to the <code>i'th</code> sub-shape.  <a href="#a630dabd28e9082665ba13b384381de2a">More...</a><br /></td></tr>
<tr class="separator:a630dabd28e9082665ba13b384381de2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416d703ec9199be40693797f140fb1f6"><td class="memItemLeft" align="right" valign="top"><a id="a416d703ec9199be40693797f140fb1f6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumBlendShapes</b> () const</td></tr>
<tr class="separator:a416d703ec9199be40693797f140fb1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e05e60efde709c040b3bdc2653b4c78"><td class="memItemLeft" align="right" valign="top"><a id="a0e05e60efde709c040b3bdc2653b4c78"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumSubShapes</b> () const</td></tr>
<tr class="separator:a0e05e60efde709c040b3bdc2653b4c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956d9cc16a6caa4fbf7c89e220926c20"><td class="memItemLeft" align="right" valign="top">USDSKEL_API std::vector&lt; VtIntArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a956d9cc16a6caa4fbf7c89e220926c20">ComputeBlendShapePointIndices</a> () const</td></tr>
<tr class="memdesc:a956d9cc16a6caa4fbf7c89e220926c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute an array holding the point indices of all shapes.  <a href="#a956d9cc16a6caa4fbf7c89e220926c20">More...</a><br /></td></tr>
<tr class="separator:a956d9cc16a6caa4fbf7c89e220926c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2473e85aea22e8bbd3b0067e9d4d17f"><td class="memItemLeft" align="right" valign="top">USDSKEL_API std::vector&lt; VtVec3fArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#aa2473e85aea22e8bbd3b0067e9d4d17f">ComputeSubShapePointOffsets</a> () const</td></tr>
<tr class="memdesc:aa2473e85aea22e8bbd3b0067e9d4d17f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute an array holding the point offsets of all sub-shapes.  <a href="#aa2473e85aea22e8bbd3b0067e9d4d17f">More...</a><br /></td></tr>
<tr class="separator:aa2473e85aea22e8bbd3b0067e9d4d17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90398ac33aaa1e4a19af09ef798e214a"><td class="memItemLeft" align="right" valign="top">USDSKEL_API std::vector&lt; VtVec3fArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a90398ac33aaa1e4a19af09ef798e214a">ComputeSubShapeNormalOffsets</a> () const</td></tr>
<tr class="memdesc:a90398ac33aaa1e4a19af09ef798e214a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute an array holding the normal offsets of all sub-shapes.  <a href="#a90398ac33aaa1e4a19af09ef798e214a">More...</a><br /></td></tr>
<tr class="separator:a90398ac33aaa1e4a19af09ef798e214a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c78a075c2bcbcf74d713619f3043019"><td class="memItemLeft" align="right" valign="top">USDSKEL_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a2c78a075c2bcbcf74d713619f3043019">ComputeSubShapeWeights</a> (const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; &amp;weights, VtFloatArray *subShapeWeights, VtUIntArray *blendShapeIndices, VtUIntArray *subShapeIndices) const</td></tr>
<tr class="memdesc:a2c78a075c2bcbcf74d713619f3043019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the resolved weights for all sub-shapes bound to this prim.  <a href="#a2c78a075c2bcbcf74d713619f3043019">More...</a><br /></td></tr>
<tr class="separator:a2c78a075c2bcbcf74d713619f3043019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb6007644fa3ec9bb79d53680b710fa3"><td class="memItemLeft" align="right" valign="top">USDSKEL_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#aeb6007644fa3ec9bb79d53680b710fa3">ComputeFlattenedSubShapeWeights</a> (const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; &amp;weights, VtFloatArray *subShapeWeights) const</td></tr>
<tr class="memdesc:aeb6007644fa3ec9bb79d53680b710fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a flattened array of weights for all sub-shapes.  <a href="#aeb6007644fa3ec9bb79d53680b710fa3">More...</a><br /></td></tr>
<tr class="separator:aeb6007644fa3ec9bb79d53680b710fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1e2f6761a947094768c5b024beb581"><td class="memItemLeft" align="right" valign="top">USDSKEL_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#aad1e2f6761a947094768c5b024beb581">ComputeDeformedPoints</a> (const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; subShapeWeights, const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt; blendShapeIndices, const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt; subShapeIndices, const std::vector&lt; VtIntArray &gt; &amp;blendShapePointIndices, const std::vector&lt; VtVec3fArray &gt; &amp;subShapePointOffsets, <a class="el" href="class_tf_span.html">TfSpan</a>&lt; <a class="el" href="class_gf_vec3f.html">GfVec3f</a> &gt; points) const</td></tr>
<tr class="memdesc:aad1e2f6761a947094768c5b024beb581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deform <code>points</code> using the resolved sub-shapes given by <code>subShapeWeights</code>, <code>blendShapeIndices</code> and <code>subShapeIndices</code>.  <a href="#aad1e2f6761a947094768c5b024beb581">More...</a><br /></td></tr>
<tr class="separator:aad1e2f6761a947094768c5b024beb581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980236f2b0b80af7b74b6b0a15ff2400"><td class="memItemLeft" align="right" valign="top">USDSKEL_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a980236f2b0b80af7b74b6b0a15ff2400">ComputeDeformedNormals</a> (const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; subShapeWeights, const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt; blendShapeIndices, const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt; subShapeIndices, const std::vector&lt; VtIntArray &gt; &amp;blendShapePointIndices, const std::vector&lt; VtVec3fArray &gt; &amp;subShapeNormalOffsets, <a class="el" href="class_tf_span.html">TfSpan</a>&lt; <a class="el" href="class_gf_vec3f.html">GfVec3f</a> &gt; noramls) const</td></tr>
<tr class="memdesc:a980236f2b0b80af7b74b6b0a15ff2400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deform <code>normals</code> using the resolved sub-shapes given by <code>subShapeWeights</code>, <code>blendShapeIndices</code> and <code>subShapeIndices</code>.  <a href="#a980236f2b0b80af7b74b6b0a15ff2400">More...</a><br /></td></tr>
<tr class="separator:a980236f2b0b80af7b74b6b0a15ff2400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1407ea3af2eb510f398c923c09526757"><td class="memItemLeft" align="right" valign="top">USDSKEL_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_skel_blend_shape_query.html#a1407ea3af2eb510f398c923c09526757">ComputePackedShapeTable</a> (VtVec4fArray *offsets, VtVec2iArray *ranges) const</td></tr>
<tr class="memdesc:a1407ea3af2eb510f398c923c09526757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a packed shape table combining all sub-shapes.  <a href="#a1407ea3af2eb510f398c923c09526757">More...</a><br /></td></tr>
<tr class="separator:a1407ea3af2eb510f398c923c09526757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f106a8aaf8118daa4fb88d1b193c27"><td class="memItemLeft" align="right" valign="top"><a id="ac2f106a8aaf8118daa4fb88d1b193c27"></a>
USDSKEL_API std::string&#160;</td><td class="memItemRight" valign="bottom"><b>GetDescription</b> () const</td></tr>
<tr class="separator:ac2f106a8aaf8118daa4fb88d1b193c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class used to resolve blend shape weights, including inbetweens. </p>

<p class="definition">Definition at line <a class="el" href="blend_shape_query_8h_source.html#l00049">49</a> of file <a class="el" href="blend_shape_query_8h_source.html">blendShapeQuery.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a956d9cc16a6caa4fbf7c89e220926c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956d9cc16a6caa4fbf7c89e220926c20">&#9670;&nbsp;</a></span>ComputeBlendShapePointIndices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API std::vector&lt;VtIntArray&gt; ComputeBlendShapePointIndices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute an array holding the point indices of all shapes. </p>
<p>This is indexed by the <em>blendShapeIndices</em> returned by ComputeSubShapes(). Since the <em>pointIndices</em> property of blend shapes is optional, some of the arrays may be empty. </p>

</div>
</div>
<a id="a980236f2b0b80af7b74b6b0a15ff2400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980236f2b0b80af7b74b6b0a15ff2400">&#9670;&nbsp;</a></span>ComputeDeformedNormals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API bool ComputeDeformedNormals </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt;&#160;</td>
          <td class="paramname"><em>subShapeWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt;&#160;</td>
          <td class="paramname"><em>blendShapeIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt;&#160;</td>
          <td class="paramname"><em>subShapeIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; VtIntArray &gt; &amp;&#160;</td>
          <td class="paramname"><em>blendShapePointIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; VtVec3fArray &gt; &amp;&#160;</td>
          <td class="paramname"><em>subShapeNormalOffsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tf_span.html">TfSpan</a>&lt; <a class="el" href="class_gf_vec3f.html">GfVec3f</a> &gt;&#160;</td>
          <td class="paramname"><em>noramls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deform <code>normals</code> using the resolved sub-shapes given by <code>subShapeWeights</code>, <code>blendShapeIndices</code> and <code>subShapeIndices</code>. </p>
<p>The <code>blendShapePointIndices</code> and <code>blendShapeNormalOffsets</code> arrays both provide the pre-computed normal offsets and indices of each sub-shape, as computed by <a class="el" href="class_usd_skel_blend_shape_query.html#a956d9cc16a6caa4fbf7c89e220926c20" title="Compute an array holding the point indices of all shapes.">ComputeBlendShapePointIndices()</a> and <a class="el" href="class_usd_skel_blend_shape_query.html#a90398ac33aaa1e4a19af09ef798e214a" title="Compute an array holding the normal offsets of all sub-shapes.">ComputeSubShapeNormalOffsets()</a>. This is equivalent to <a class="el" href="class_usd_skel_blend_shape_query.html#aad1e2f6761a947094768c5b024beb581" title="Deform points using the resolved sub-shapes given by subShapeWeights, blendShapeIndices and subShapeI...">ComputeDeformedPoints()</a>, except that the resulting points are normalized after deformation. </p>

</div>
</div>
<a id="aad1e2f6761a947094768c5b024beb581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1e2f6761a947094768c5b024beb581">&#9670;&nbsp;</a></span>ComputeDeformedPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API bool ComputeDeformedPoints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt;&#160;</td>
          <td class="paramname"><em>subShapeWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt;&#160;</td>
          <td class="paramname"><em>blendShapeIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const unsigned &gt;&#160;</td>
          <td class="paramname"><em>subShapeIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; VtIntArray &gt; &amp;&#160;</td>
          <td class="paramname"><em>blendShapePointIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; VtVec3fArray &gt; &amp;&#160;</td>
          <td class="paramname"><em>subShapePointOffsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tf_span.html">TfSpan</a>&lt; <a class="el" href="class_gf_vec3f.html">GfVec3f</a> &gt;&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deform <code>points</code> using the resolved sub-shapes given by <code>subShapeWeights</code>, <code>blendShapeIndices</code> and <code>subShapeIndices</code>. </p>
<p>The <code>blendShapePointIndices</code> and <code>blendShapePointOffsets</code> arrays both provide the pre-computed point offsets and indices of each sub-shape, as computed by <a class="el" href="class_usd_skel_blend_shape_query.html#a956d9cc16a6caa4fbf7c89e220926c20" title="Compute an array holding the point indices of all shapes.">ComputeBlendShapePointIndices()</a> and <a class="el" href="class_usd_skel_blend_shape_query.html#aa2473e85aea22e8bbd3b0067e9d4d17f" title="Compute an array holding the point offsets of all sub-shapes.">ComputeSubShapePointOffsets()</a>. </p>

</div>
</div>
<a id="aeb6007644fa3ec9bb79d53680b710fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6007644fa3ec9bb79d53680b710fa3">&#9670;&nbsp;</a></span>ComputeFlattenedSubShapeWeights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API bool ComputeFlattenedSubShapeWeights </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VtFloatArray *&#160;</td>
          <td class="paramname"><em>subShapeWeights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a flattened array of weights for all sub-shapes. </p>

</div>
</div>
<a id="a1407ea3af2eb510f398c923c09526757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1407ea3af2eb510f398c923c09526757">&#9670;&nbsp;</a></span>ComputePackedShapeTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API bool ComputePackedShapeTable </td>
          <td>(</td>
          <td class="paramtype">VtVec4fArray *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VtVec2iArray *&#160;</td>
          <td class="paramname"><em>ranges</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a packed shape table combining all sub-shapes. </p>
<p>This is intended to help encode blend shapes in a GPU-friendly form. The resulting <code>offsets</code> array holds contiguous runs of offsets for every point. The array holds all of the offsets of every blend shape for point 0, followed by the offset of every blend shape for point 1, and so forth. Offsets are stored as a <a class="el" href="class_gf_vec4f.html" title="Basic type for a vector of 4 float components.">GfVec4f</a>. The first three components of each offset holds the actual offset value, while the last value holds the sub-shape index, as a float. The sub-shape index can be used to lookup a corresponding weight value in the 'subShapeWeights' array returned by ComputeSubShapeWeights. </p>

</div>
</div>
<a id="a90398ac33aaa1e4a19af09ef798e214a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90398ac33aaa1e4a19af09ef798e214a">&#9670;&nbsp;</a></span>ComputeSubShapeNormalOffsets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API std::vector&lt;VtVec3fArray&gt; ComputeSubShapeNormalOffsets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute an array holding the normal offsets of all sub-shapes. </p>
<p>This includes offsets of both primary shapes &ndash; those stored directly on a BlendShape primitive &ndash; as well as those of inbetween shapes. This is indexed by the <em>subShapeIndices</em> returned by <a class="el" href="class_usd_skel_blend_shape_query.html#a2c78a075c2bcbcf74d713619f3043019" title="Compute the resolved weights for all sub-shapes bound to this prim.">ComputeSubShapeWeights()</a>. Normal offsets are optional. An empty array is stored for shapes that do not specify normal offsets. </p>

</div>
</div>
<a id="aa2473e85aea22e8bbd3b0067e9d4d17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2473e85aea22e8bbd3b0067e9d4d17f">&#9670;&nbsp;</a></span>ComputeSubShapePointOffsets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API std::vector&lt;VtVec3fArray&gt; ComputeSubShapePointOffsets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute an array holding the point offsets of all sub-shapes. </p>
<p>This includes offsets of both primary shapes &ndash; those stored directly on a BlendShape primitive &ndash; as well as those of inbetween shapes. This is indexed by the <em>subShapeIndices</em> returned by <a class="el" href="class_usd_skel_blend_shape_query.html#a2c78a075c2bcbcf74d713619f3043019" title="Compute the resolved weights for all sub-shapes bound to this prim.">ComputeSubShapeWeights()</a>. </p>

</div>
</div>
<a id="a2c78a075c2bcbcf74d713619f3043019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c78a075c2bcbcf74d713619f3043019">&#9670;&nbsp;</a></span>ComputeSubShapeWeights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API bool ComputeSubShapeWeights </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_span.html">TfSpan</a>&lt; const float &gt; &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VtFloatArray *&#160;</td>
          <td class="paramname"><em>subShapeWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VtUIntArray *&#160;</td>
          <td class="paramname"><em>blendShapeIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VtUIntArray *&#160;</td>
          <td class="paramname"><em>subShapeIndices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the resolved weights for all sub-shapes bound to this prim. </p>
<p>The <code>weights</code> values are initial weight values, ordered according to the <em>skel:blendShapeTargets</em> relationship of the prim this query is associated with. If there are any inbetween shapes, a new set of weights is computed, providing weighting of the relevant inbetweens.</p>
<p>All computed arrays shared the same size. Elements of the same index identify which sub-shape of which blend shape a given weight value is mapped to. </p>

</div>
</div>
<a id="af18eddc0783655ddf3123a663487b9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18eddc0783655ddf3123a663487b9b0">&#9670;&nbsp;</a></span>GetBlendShape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API <a class="el" href="class_usd_skel_blend_shape.html">UsdSkelBlendShape</a> GetBlendShape </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blendShapeIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the blend shape corresponding to <code>blendShapeIndex</code>. </p>

</div>
</div>
<a id="a630dabd28e9082665ba13b384381de2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630dabd28e9082665ba13b384381de2a">&#9670;&nbsp;</a></span>GetBlendShapeIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API size_t GetBlendShapeIndex </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subShapeIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the blend shape index corresponding to the <code>i'th</code> sub-shape. </p>

</div>
</div>
<a id="acbe3a5f010a07904d47117fe28fc10b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe3a5f010a07904d47117fe28fc10b0">&#9670;&nbsp;</a></span>GetInbetween()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDSKEL_API <a class="el" href="class_usd_skel_inbetween_shape.html">UsdSkelInbetweenShape</a> GetInbetween </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subShapeIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the inbetween shape corresponding to sub-shape <code>i</code>, if any. </p>

</div>
</div>
<a id="ac44ba4d2d2cd5b29ff6b2af537f5940c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44ba4d2d2cd5b29ff6b2af537f5940c">&#9670;&nbsp;</a></span>GetPrim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_usd_prim.html">UsdPrim</a>&amp; GetPrim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the prim the blend shapes apply to. </p>

<p class="definition">Definition at line <a class="el" href="blend_shape_query_8h_source.html#l00064">64</a> of file <a class="el" href="blend_shape_query_8h_source.html">blendShapeQuery.h</a>.</p>

</div>
</div>
<a id="ac532c4b500b1a85ea22217f2c65a70ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac532c4b500b1a85ea22217f2c65a70ed">&#9670;&nbsp;</a></span>IsValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool IsValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if this query is valid. </p>

<p class="definition">Definition at line <a class="el" href="blend_shape_query_8h_source.html#l00058">58</a> of file <a class="el" href="blend_shape_query_8h_source.html">blendShapeQuery.h</a>.</p>

</div>
</div>
<a id="a67b76affb3b5d35fa419ac234144038b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b76affb3b5d35fa419ac234144038b">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boolean conversion operator. Equivalent to <a class="el" href="class_usd_skel_blend_shape_query.html#ac532c4b500b1a85ea22217f2c65a70ed" title="Return true if this query is valid.">IsValid()</a>. </p>

<p class="definition">Definition at line <a class="el" href="blend_shape_query_8h_source.html#l00061">61</a> of file <a class="el" href="blend_shape_query_8h_source.html">blendShapeQuery.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/usd/usdSkel/<a class="el" href="blend_shape_query_8h_source.html">blendShapeQuery.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_usd_skel_blend_shape_query.html">UsdSkelBlendShapeQuery</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:11 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>