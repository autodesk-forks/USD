<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: TfMallocTag Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_tf_malloc_tag.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_tf_malloc_tag-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TfMallocTag Class Reference<div class="ingroups"><a class="el" href="group__group__tf___malloc_tag.html">Memory Tagging System</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Top-down memory tagging system.  
 <a href="class_tf_malloc_tag.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag_1_1_auto.html">Auto</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scoped (i.e.  <a href="class_tf_malloc_tag_1_1_auto.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_tf_malloc_tag_1_1_call_stack_info"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#struct_tf_malloc_tag_1_1_call_stack_info">CallStackInfo</a></td></tr>
<tr class="memdesc:struct_tf_malloc_tag_1_1_call_stack_info"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct is used to represent a call stack taken for an allocation that was billed under a specific malloc tag.  <a href="class_tf_malloc_tag.html#struct_tf_malloc_tag_1_1_call_stack_info">More...</a><br /></td></tr>
<tr class="separator:struct_tf_malloc_tag_1_1_call_stack_info"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_tf_malloc_tag_1_1_call_tree.html">CallTree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summary data structure for <code>malloc</code> statistics.  <a href="struct_tf_malloc_tag_1_1_call_tree.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad03bd353d1af575f07e11ab058266feb"><td class="memItemLeft" align="right" valign="top"><a id="ad03bd353d1af575f07e11ab058266feb"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Auto2</b> = <a class="el" href="class_tf_malloc_tag_1_1_auto.html">Auto</a></td></tr>
<tr class="separator:ad03bd353d1af575f07e11ab058266feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9ce0eae963544ac6d083e4f95d4a9b36"><td class="memItemLeft" align="right" valign="top">static TF_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36">Initialize</a> (std::string *errMsg)</td></tr>
<tr class="memdesc:a9ce0eae963544ac6d083e4f95d4a9b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the memory tagging system.  <a href="#a9ce0eae963544ac6d083e4f95d4a9b36">More...</a><br /></td></tr>
<tr class="separator:a9ce0eae963544ac6d083e4f95d4a9b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c217951b4362bb6661a1e863105320"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#ab2c217951b4362bb6661a1e863105320">IsInitialized</a> ()</td></tr>
<tr class="memdesc:ab2c217951b4362bb6661a1e863105320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the tagging system is active.  <a href="#ab2c217951b4362bb6661a1e863105320">More...</a><br /></td></tr>
<tr class="separator:ab2c217951b4362bb6661a1e863105320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94043f2dbe14589226a577f501eb384f"><td class="memItemLeft" align="right" valign="top">static TF_API size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a94043f2dbe14589226a577f501eb384f">GetTotalBytes</a> ()</td></tr>
<tr class="memdesc:a94043f2dbe14589226a577f501eb384f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return total number of allocated bytes.  <a href="#a94043f2dbe14589226a577f501eb384f">More...</a><br /></td></tr>
<tr class="separator:a94043f2dbe14589226a577f501eb384f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d8deee10ce6a113a4174bcc6ed7d28"><td class="memItemLeft" align="right" valign="top">static TF_API size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#ac8d8deee10ce6a113a4174bcc6ed7d28">GetMaxTotalBytes</a> ()</td></tr>
<tr class="memdesc:ac8d8deee10ce6a113a4174bcc6ed7d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the maximum total number of bytes that have ever been allocated at one time.  <a href="#ac8d8deee10ce6a113a4174bcc6ed7d28">More...</a><br /></td></tr>
<tr class="separator:ac8d8deee10ce6a113a4174bcc6ed7d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05c3ae7dfa19d9034a1b5f4737548e8"><td class="memItemLeft" align="right" valign="top">static TF_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#ac05c3ae7dfa19d9034a1b5f4737548e8">GetCallTree</a> (<a class="el" href="struct_tf_malloc_tag_1_1_call_tree.html">CallTree</a> *tree, bool skipRepeated=true)</td></tr>
<tr class="memdesc:ac05c3ae7dfa19d9034a1b5f4737548e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a snapshot of memory usage.  <a href="#ac05c3ae7dfa19d9034a1b5f4737548e8">More...</a><br /></td></tr>
<tr class="separator:ac05c3ae7dfa19d9034a1b5f4737548e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ab306ad41ec3ea17f4082be70bd60d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a74ab306ad41ec3ea17f4082be70bd60d">Push</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:a74ab306ad41ec3ea17f4082be70bd60d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually push a tag onto the stack.  <a href="#a74ab306ad41ec3ea17f4082be70bd60d">More...</a><br /></td></tr>
<tr class="separator:a74ab306ad41ec3ea17f4082be70bd60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c427c120b46f7a9276b37c9e0387042"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a2c427c120b46f7a9276b37c9e0387042">Push</a> (const char *name)</td></tr>
<tr class="separator:a2c427c120b46f7a9276b37c9e0387042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7dd1bc7d631e417135051f4405ee177"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#ab7dd1bc7d631e417135051f4405ee177">Pop</a> ()</td></tr>
<tr class="memdesc:ab7dd1bc7d631e417135051f4405ee177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually pop a tag from the stack.  <a href="#ab7dd1bc7d631e417135051f4405ee177">More...</a><br /></td></tr>
<tr class="separator:ab7dd1bc7d631e417135051f4405ee177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8a036498f3d112baa00f0c5d094fa4"><td class="memItemLeft" align="right" valign="top">static TF_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a4f8a036498f3d112baa00f0c5d094fa4">SetDebugMatchList</a> (const std::string &amp;matchList)</td></tr>
<tr class="memdesc:a4f8a036498f3d112baa00f0c5d094fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the tags to trap in the debugger.  <a href="#a4f8a036498f3d112baa00f0c5d094fa4">More...</a><br /></td></tr>
<tr class="separator:a4f8a036498f3d112baa00f0c5d094fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59072cc65b32e9a2e909905366b48a36"><td class="memItemLeft" align="right" valign="top">static TF_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#a59072cc65b32e9a2e909905366b48a36">SetCapturedMallocStacksMatchList</a> (const std::string &amp;matchList)</td></tr>
<tr class="memdesc:a59072cc65b32e9a2e909905366b48a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the tags to trace.  <a href="#a59072cc65b32e9a2e909905366b48a36">More...</a><br /></td></tr>
<tr class="separator:a59072cc65b32e9a2e909905366b48a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b9a5b7a7d03009b5c54dc428bef9ac"><td class="memItemLeft" align="right" valign="top">static TF_API std::vector&lt; std::vector&lt; uintptr_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_malloc_tag.html#ac6b9a5b7a7d03009b5c54dc428bef9ac">GetCapturedMallocStacks</a> ()</td></tr>
<tr class="memdesc:ac6b9a5b7a7d03009b5c54dc428bef9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the captured malloc stack traces for allocations billed to the malloc tags passed to <a class="el" href="class_tf_malloc_tag.html#a59072cc65b32e9a2e909905366b48a36" title="Sets the tags to trace.">SetCapturedMallocStacksMatchList()</a>.  <a href="#ac6b9a5b7a7d03009b5c54dc428bef9ac">More...</a><br /></td></tr>
<tr class="separator:ac6b9a5b7a7d03009b5c54dc428bef9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aee3d46de06464c3ae59cc460c018b793"><td class="memItemLeft" align="right" valign="top"><a id="aee3d46de06464c3ae59cc460c018b793"></a>
struct&#160;</td><td class="memItemRight" valign="bottom"><b>_TemporaryDisabler</b></td></tr>
<tr class="separator:aee3d46de06464c3ae59cc460c018b793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4592302e58cf1ecdc24e660713fd2c27"><td class="memItemLeft" align="right" valign="top"><a id="a4592302e58cf1ecdc24e660713fd2c27"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>TfMallocTag::Auto</b></td></tr>
<tr class="separator:a4592302e58cf1ecdc24e660713fd2c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb345fd4a53f596f565300e99046825"><td class="memItemLeft" align="right" valign="top"><a id="a9cb345fd4a53f596f565300e99046825"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>TfMallocTag::Tls</b></td></tr>
<tr class="separator:a9cb345fd4a53f596f565300e99046825"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Top-down memory tagging system. </p>
<p>See <a class="el" href="page_tf__malloc_tag.html">The TfMallocTag Memory Tagging System</a> for a detailed description. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00050">50</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_tf_malloc_tag_1_1_call_stack_info" id="struct_tf_malloc_tag_1_1_call_stack_info"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_tf_malloc_tag_1_1_call_stack_info">&#9670;&nbsp;</a></span>TfMallocTag::CallStackInfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct TfMallocTag::CallStackInfo</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This struct is used to represent a call stack taken for an allocation that was billed under a specific malloc tag. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00163">163</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a51672c4b13e18c0f55b64f8e980423e4"></a>size_t</td>
<td class="fieldname">
numAllocations</td>
<td class="fielddoc">
The number of allocations (always one unless stack frames have been combined to create unique stacks). </td></tr>
<tr><td class="fieldtype">
<a id="a854352f53b148adc24983a58a1866d66"></a>size_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
The amount of allocated memory (accumulated over all allocations sharing this call stack). </td></tr>
<tr><td class="fieldtype">
<a id="a767876effa33b77be35805fa8a9253d5"></a>vector&lt; uintptr_t &gt;</td>
<td class="fieldname">
stack</td>
<td class="fielddoc">
The stack frame pointers. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac05c3ae7dfa19d9034a1b5f4737548e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05c3ae7dfa19d9034a1b5f4737548e8">&#9670;&nbsp;</a></span>GetCallTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API bool GetCallTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tf_malloc_tag_1_1_call_tree.html">CallTree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skipRepeated</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a snapshot of memory usage. </p>
<p>Returns a snapshot by writing into <code>*tree</code>. See the <code>C</code> *tree structure for documentation. If <code><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a></code> has not been called, \ *tree is set to a rather blank structure (empty vectors, empty strings, zero in all integral fields) and <code>false</code> is returned; otherwise, <code>*tree</code> is set with the contents of the current memory snapshot and <code>true</code> is returned. It is fine to call this function on the same <code>*tree</code> instance; each call simply overwrites the data from the last call. If /p skipRepeated is <code>true</code>, then any repeated callsite is skipped. See the <code><a class="el" href="struct_tf_malloc_tag_1_1_call_tree.html" title="Summary data structure for malloc statistics.">CallTree</a></code> documentation for more details. </p>

</div>
</div>
<a id="ac6b9a5b7a7d03009b5c54dc428bef9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b9a5b7a7d03009b5c54dc428bef9ac">&#9670;&nbsp;</a></span>GetCapturedMallocStacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API std::vector&lt;std::vector&lt;uintptr_t&gt; &gt; GetCapturedMallocStacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the captured malloc stack traces for allocations billed to the malloc tags passed to <a class="el" href="class_tf_malloc_tag.html#a59072cc65b32e9a2e909905366b48a36" title="Sets the tags to trace.">SetCapturedMallocStacksMatchList()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>This method also clears the internally held set of captured stacks. </dd></dl>

</div>
</div>
<a id="ac8d8deee10ce6a113a4174bcc6ed7d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d8deee10ce6a113a4174bcc6ed7d28">&#9670;&nbsp;</a></span>GetMaxTotalBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API size_t GetMaxTotalBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the maximum total number of bytes that have ever been allocated at one time. </p>
<p>This is simply the maximum value of <a class="el" href="class_tf_malloc_tag.html#a94043f2dbe14589226a577f501eb384f" title="Return total number of allocated bytes.">GetTotalBytes()</a> since <a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a> was called. </p>

</div>
</div>
<a id="a94043f2dbe14589226a577f501eb384f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94043f2dbe14589226a577f501eb384f">&#9670;&nbsp;</a></span>GetTotalBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API size_t GetTotalBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return total number of allocated bytes. </p>
<p>The current total memory that has been allocated and not freed is returned. Memory allocated before calling <code><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a></code> is not accounted for. </p>

</div>
</div>
<a id="a9ce0eae963544ac6d083e4f95d4a9b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce0eae963544ac6d083e4f95d4a9b36">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API bool Initialize </td>
          <td>(</td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>errMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the memory tagging system. </p>
<p>This function returns <code>true</code> if the memory tagging system can be successfully initialized or it has already been initialized. Otherwise, <code>*errMsg</code> is set with an explanation for the failure.</p>
<p>Until the system is initialized, the various memory reporting calls will indicate that no memory has been allocated. Note also that memory allocated prior to calling <code><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a></code> is not tracked i.e. all data refers to allocations that happen subsequent to calling <code><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a></code>. </p>

</div>
</div>
<a id="ab2c217951b4362bb6661a1e863105320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c217951b4362bb6661a1e863105320">&#9670;&nbsp;</a></span>IsInitialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the tagging system is active. </p>
<p>If <code><a class="el" href="class_tf_malloc_tag.html#a9ce0eae963544ac6d083e4f95d4a9b36" title="Initialize the memory tagging system.">Initialize()</a></code> has been successfully called, this function returns <code>true</code>. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00194">194</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>

</div>
</div>
<a id="ab7dd1bc7d631e417135051f4405ee177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7dd1bc7d631e417135051f4405ee177">&#9670;&nbsp;</a></span>Pop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manually pop a tag from the stack. </p>
<p>This call has the same effect as the destructor for <code><a class="el" href="class_tf_malloc_tag_1_1_auto.html" title="Scoped (i.e.">TfMallocTag::Auto</a></code>; it must properly nest with a matching call to <code><a class="el" href="class_tf_malloc_tag.html#a74ab306ad41ec3ea17f4082be70bd60d" title="Manually push a tag onto the stack.">Push()</a></code>, of course. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00363">363</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>

</div>
</div>
<a id="a74ab306ad41ec3ea17f4082be70bd60d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74ab306ad41ec3ea17f4082be70bd60d">&#9670;&nbsp;</a></span>Push() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Push </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manually push a tag onto the stack. </p>
<p>This call has the same effect as the constructor for <code><a class="el" href="class_tf_malloc_tag_1_1_auto.html" title="Scoped (i.e.">TfMallocTag::Auto</a></code> (aka <code>TfAutoMallocTag</code>), however a matching call to <code><a class="el" href="class_tf_malloc_tag.html#ab7dd1bc7d631e417135051f4405ee177" title="Manually pop a tag from the stack.">Pop()</a></code> is required.</p>
<p>Note that initializing the tagging system between matching calls to <code><a class="el" href="class_tf_malloc_tag.html#a74ab306ad41ec3ea17f4082be70bd60d" title="Manually push a tag onto the stack.">Push()</a></code> and <code><a class="el" href="class_tf_malloc_tag.html#ab7dd1bc7d631e417135051f4405ee177" title="Manually pop a tag from the stack.">Pop()</a></code> is ill-advised, which is yet another reason to prefer using <code>TfAutoMallocTag</code> whenever possible. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00349">349</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>

</div>
</div>
<a id="a2c427c120b46f7a9276b37c9e0387042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c427c120b46f7a9276b37c9e0387042">&#9670;&nbsp;</a></span>Push() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Push </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

<p class="definition">Definition at line <a class="el" href="malloc_tag_8h_source.html#l00354">354</a> of file <a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a>.</p>

</div>
</div>
<a id="a59072cc65b32e9a2e909905366b48a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59072cc65b32e9a2e909905366b48a36">&#9670;&nbsp;</a></span>SetCapturedMallocStacksMatchList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API void SetCapturedMallocStacksMatchList </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the tags to trace. </p>
<p>When memory is allocated for any tag that matches <code>matchList</code> a stack trace is recorded. When that memory is released the stack trace is discarded. Clients can call <code><a class="el" href="class_tf_malloc_tag.html#ac6b9a5b7a7d03009b5c54dc428bef9ac" title="Returns the captured malloc stack traces for allocations billed to the malloc tags passed to SetCaptu...">GetCapturedMallocStacks()</a></code> to get a list of all recorded stack traces. This is useful for finding leaks.</p>
<p>Traces recorded for any tag that will no longer be matched are discarded by this call. Traces recorded for tags that continue to be matched are retained.</p>
<p><code>matchList</code> is a comma, tab or newline separated list of malloc tag names. The names can have internal spaces but leading and trailing spaces are stripped. If a name ends in '*' then the suffix is wildcarded. A name can have a leading '-' or '+' to prevent or allow a match. Each name is considered in order and later matches override earlier matches. For example, 'Csd*, -CsdScene::_Populate*, +CsdScene::_PopulatePrimCacheLocal' matches any malloc tag starting with 'Csd' but nothing starting with 'CsdScene::_Populate' except 'CsdScene::_PopulatePrimCacheLocal'. Use the empty string to disable stack capturing. </p>

</div>
</div>
<a id="a4f8a036498f3d112baa00f0c5d094fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8a036498f3d112baa00f0c5d094fa4">&#9670;&nbsp;</a></span>SetDebugMatchList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static TF_API void SetDebugMatchList </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the tags to trap in the debugger. </p>
<p>When memory is allocated or freed for any tag that matches <code>matchList</code> the debugger trap is invoked. If a debugger is attached the program will stop in the debugger, otherwise the program will continue to run. See <code><a class="el" href="debugger_8h.html#a0cc38181fefe49fe7038675bcc6707ab" title="Stop in a debugger.">ArchDebuggerTrap()</a></code> and <code><a class="el" href="debugger_8h.html#a99ede52ab8e0b3a5c5272c3b8b3e4e1c" title="Cause debug traps to wait for the debugger or not.">ArchDebuggerWait()</a></code>.</p>
<p><code>matchList</code> is a comma, tab or newline separated list of malloc tag names. The names can have internal spaces but leading and trailing spaces are stripped. If a name ends in '*' then the suffix is wildcarded. A name can have a leading '-' or '+' to prevent or allow a match. Each name is considered in order and later matches override earlier matches. For example, 'Csd*, -CsdScene::_Populate*, +CsdScene::_PopulatePrimCacheLocal' matches any malloc tag starting with 'Csd' but nothing starting with 'CsdScene::_Populate' except 'CsdScene::_PopulatePrimCacheLocal'. Use the empty string to disable debugging traps. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/base/tf/<a class="el" href="malloc_tag_8h_source.html">mallocTag.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_tf_malloc_tag.html">TfMallocTag</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:04 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>