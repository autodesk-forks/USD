<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: UsdImagingNiPrototypePropagatingSceneIndex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_usd_imaging_ni_prototype_propagating_scene_index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_usd_imaging_ni_prototype_propagating_scene_index-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UsdImagingNiPrototypePropagatingSceneIndex Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A scene index implementing USD native instancing.  
 <a href="class_usd_imaging_ni_prototype_propagating_scene_index.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for UsdImagingNiPrototypePropagatingSceneIndex:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_usd_imaging_ni_prototype_propagating_scene_index__inherit__graph.png" border="0" usemap="#_usd_imaging_ni_prototype_propagating_scene_index_inherit__map" alt="Inheritance graph"/></div>
<map name="_usd_imaging_ni_prototype_propagating_scene_index_inherit__map" id="_usd_imaging_ni_prototype_propagating_scene_index_inherit__map">
<area shape="rect"  title="A scene index implementing USD native instancing." alt="" coords="5,230,259,271"/>
<area shape="rect"  href="class_hd_filtering_scene_index_base.html" title="An abstract base class for scene indexes that have one or more input scene indexes which serve as a b..." alt="" coords="33,155,231,181"/>
<area shape="rect"  href="class_hd_scene_index_base.html" title="Abstract interface to scene data." alt="" coords="59,80,205,107"/>
<area shape="rect"  href="class_tf_ref_base.html" title="Enable a concrete base class for use with TfRefPtr." alt="" coords="28,5,116,32"/>
<area shape="rect"  href="class_tf_weak_base.html" title="Enable a concrete base class for use with TfWeakPtr." alt="" coords="141,5,243,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a33ffc30808339e21464f65a28bff54ef"><td class="memItemLeft" align="right" valign="top"><a id="a33ffc30808339e21464f65a28bff54ef"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>SceneIndexAppendCallback</b> = std::function&lt; HdSceneIndexBaseRefPtr(const HdSceneIndexBaseRefPtr &amp;inputScene)&gt;</td></tr>
<tr class="separator:a33ffc30808339e21464f65a28bff54ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_tf_ref_base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_tf_ref_base')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_tf_ref_base.html">TfRefBase</a></td></tr>
<tr class="memitem:a86baed63f8017038997266bdd638f65e inherit pub_types_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top"><a id="a86baed63f8017038997266bdd638f65e"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>UniqueChangedFuncPtr</b>) (<a class="el" href="class_tf_ref_base.html">TfRefBase</a> const *, bool)</td></tr>
<tr class="separator:a86baed63f8017038997266bdd638f65e inherit pub_types_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4838527885ff92539845ba52882d2a56"><td class="memItemLeft" align="right" valign="top">USDIMAGING_API <a class="el" href="struct_hd_scene_index_prim.html">HdSceneIndexPrim</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html#a4838527885ff92539845ba52882d2a56">GetPrim</a> (const <a class="el" href="class_sdf_path.html">SdfPath</a> &amp;primPath) const override</td></tr>
<tr class="memdesc:a4838527885ff92539845ba52882d2a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pair of (prim type, datasource) for the object at <code>primPath</code>.  <a href="#a4838527885ff92539845ba52882d2a56">More...</a><br /></td></tr>
<tr class="separator:a4838527885ff92539845ba52882d2a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d8098e368b10320813798c8beda58e"><td class="memItemLeft" align="right" valign="top">USDIMAGING_API SdfPathVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html#a33d8098e368b10320813798c8beda58e">GetChildPrimPaths</a> (const <a class="el" href="class_sdf_path.html">SdfPath</a> &amp;primPath) const override</td></tr>
<tr class="memdesc:a33d8098e368b10320813798c8beda58e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the paths of all scene index prims located immediately below <code>primPath</code>.  <a href="#a33d8098e368b10320813798c8beda58e">More...</a><br /></td></tr>
<tr class="separator:a33d8098e368b10320813798c8beda58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7328b684374d1d8ab01cab79873630"><td class="memItemLeft" align="right" valign="top"><a id="aba7328b684374d1d8ab01cab79873630"></a>
USDIMAGING_API std::vector&lt; HdSceneIndexBaseRefPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetInputScenes</b> () const override</td></tr>
<tr class="separator:aba7328b684374d1d8ab01cab79873630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_hd_scene_index_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_hd_scene_index_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_hd_scene_index_base.html">HdSceneIndexBase</a></td></tr>
<tr class="memitem:a3e9408d451e386dae6530ebb7f171fa6 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a3e9408d451e386dae6530ebb7f171fa6">AddObserver</a> (const HdSceneIndexObserverPtr &amp;observer)</td></tr>
<tr class="memdesc:a3e9408d451e386dae6530ebb7f171fa6 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an observer to this scene index.  <a href="class_hd_scene_index_base.html#a3e9408d451e386dae6530ebb7f171fa6">More...</a><br /></td></tr>
<tr class="separator:a3e9408d451e386dae6530ebb7f171fa6 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3483e1a165f156162974f44c4375e833 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a3483e1a165f156162974f44c4375e833">RemoveObserver</a> (const HdSceneIndexObserverPtr &amp;observer)</td></tr>
<tr class="memdesc:a3483e1a165f156162974f44c4375e833 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an observer from this scene index; the given observer will no longer be forwarded notices.  <a href="class_hd_scene_index_base.html#a3483e1a165f156162974f44c4375e833">More...</a><br /></td></tr>
<tr class="separator:a3483e1a165f156162974f44c4375e833 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f5bb082b3df6056ae34e990c90b915 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HdDataSourceBaseHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a00f5bb082b3df6056ae34e990c90b915">GetDataSource</a> (const <a class="el" href="class_sdf_path.html">SdfPath</a> &amp;primPath, const <a class="el" href="class_hd_data_source_locator.html">HdDataSourceLocator</a> &amp;locator) const</td></tr>
<tr class="memdesc:a00f5bb082b3df6056ae34e990c90b915 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">A convenience function: look up the object at <code>primPath</code>, and if successful return the datasource at <code>locator</code> within that prim.  <a href="class_hd_scene_index_base.html#a00f5bb082b3df6056ae34e990c90b915">More...</a><br /></td></tr>
<tr class="separator:a00f5bb082b3df6056ae34e990c90b915 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6427ae8edac920bdba22e03b2bd26b76 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a6427ae8edac920bdba22e03b2bd26b76">GetDisplayName</a> () const</td></tr>
<tr class="memdesc:a6427ae8edac920bdba22e03b2bd26b76 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value previously set by SetDisplayName.  <a href="class_hd_scene_index_base.html#a6427ae8edac920bdba22e03b2bd26b76">More...</a><br /></td></tr>
<tr class="separator:a6427ae8edac920bdba22e03b2bd26b76 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b32e5db6a18d55dcbb753e2159d472 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#ae0b32e5db6a18d55dcbb753e2159d472">SetDisplayName</a> (const std::string &amp;n)</td></tr>
<tr class="memdesc:ae0b32e5db6a18d55dcbb753e2159d472 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows for scene index instances to be identified in a more contextually relevant way.  <a href="class_hd_scene_index_base.html#ae0b32e5db6a18d55dcbb753e2159d472">More...</a><br /></td></tr>
<tr class="separator:ae0b32e5db6a18d55dcbb753e2159d472 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8646777300af4dabb1646cc413ba74c0 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a8646777300af4dabb1646cc413ba74c0">AddTag</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;tag)</td></tr>
<tr class="memdesc:a8646777300af4dabb1646cc413ba74c0 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a specified tag token to a scene index instance.  <a href="class_hd_scene_index_base.html#a8646777300af4dabb1646cc413ba74c0">More...</a><br /></td></tr>
<tr class="separator:a8646777300af4dabb1646cc413ba74c0 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5404412acb326a31b22ce693129e4f2 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#af5404412acb326a31b22ce693129e4f2">RemoveTag</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;tag)</td></tr>
<tr class="memdesc:af5404412acb326a31b22ce693129e4f2 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a specified tag token to a scene index instance.  <a href="class_hd_scene_index_base.html#af5404412acb326a31b22ce693129e4f2">More...</a><br /></td></tr>
<tr class="separator:af5404412acb326a31b22ce693129e4f2 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3881af587f5e1f09fb0549b48c7ed3 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#aca3881af587f5e1f09fb0549b48c7ed3">HasTag</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;tag) const</td></tr>
<tr class="memdesc:aca3881af587f5e1f09fb0549b48c7ed3 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a specified tag token has been added to a scene index instance.  <a href="class_hd_scene_index_base.html#aca3881af587f5e1f09fb0549b48c7ed3">More...</a><br /></td></tr>
<tr class="separator:aca3881af587f5e1f09fb0549b48c7ed3 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901e14a5ed6b0b161c9ba7ca823900b2 inherit pub_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API <a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a901e14a5ed6b0b161c9ba7ca823900b2">GetTags</a> () const</td></tr>
<tr class="memdesc:a901e14a5ed6b0b161c9ba7ca823900b2 inherit pub_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all tag tokens currently added to a scene index instance.  <a href="class_hd_scene_index_base.html#a901e14a5ed6b0b161c9ba7ca823900b2">More...</a><br /></td></tr>
<tr class="separator:a901e14a5ed6b0b161c9ba7ca823900b2 inherit pub_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tf_ref_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tf_ref_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tf_ref_base.html">TfRefBase</a></td></tr>
<tr class="memitem:abcd501e4bb37d7a93faa4e625e96ecf7 inherit pub_methods_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_ref_base.html#abcd501e4bb37d7a93faa4e625e96ecf7">GetCurrentCount</a> () const</td></tr>
<tr class="memdesc:abcd501e4bb37d7a93faa4e625e96ecf7 inherit pub_methods_class_tf_ref_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current reference count of this object.  <a href="class_tf_ref_base.html#abcd501e4bb37d7a93faa4e625e96ecf7">More...</a><br /></td></tr>
<tr class="separator:abcd501e4bb37d7a93faa4e625e96ecf7 inherit pub_methods_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8bc91cf9cff7c6e1da23dc59f5ad1f inherit pub_methods_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tf_ref_base.html#aab8bc91cf9cff7c6e1da23dc59f5ad1f">IsUnique</a> () const</td></tr>
<tr class="memdesc:aab8bc91cf9cff7c6e1da23dc59f5ad1f inherit pub_methods_class_tf_ref_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if only one <code><a class="el" href="class_tf_ref_ptr.html" title="Reference-counted smart pointer utility class.">TfRefPtr</a></code> points to this object.  <a href="class_tf_ref_base.html#aab8bc91cf9cff7c6e1da23dc59f5ad1f">More...</a><br /></td></tr>
<tr class="separator:aab8bc91cf9cff7c6e1da23dc59f5ad1f inherit pub_methods_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1926aa1f9b1ad25c5c583b92bcf14b inherit pub_methods_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top"><a id="abc1926aa1f9b1ad25c5c583b92bcf14b"></a>
const <a class="el" href="class_tf_ref_count.html">TfRefCount</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetRefCount</b> () const</td></tr>
<tr class="separator:abc1926aa1f9b1ad25c5c583b92bcf14b inherit pub_methods_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee7fb6df1df9be9afbda405643ecb6c inherit pub_methods_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top"><a id="a6ee7fb6df1df9be9afbda405643ecb6c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetShouldInvokeUniqueChangedListener</b> (bool shouldCall)</td></tr>
<tr class="separator:a6ee7fb6df1df9be9afbda405643ecb6c inherit pub_methods_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tf_weak_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tf_weak_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tf_weak_base.html">TfWeakBase</a></td></tr>
<tr class="memitem:affc4c00d0bbfdfe4f9e6a8b2e81be368 inherit pub_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="affc4c00d0bbfdfe4f9e6a8b2e81be368"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TfWeakBase</b> (const <a class="el" href="class_tf_weak_base.html">TfWeakBase</a> &amp;)</td></tr>
<tr class="separator:affc4c00d0bbfdfe4f9e6a8b2e81be368 inherit pub_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01aa4c4b93df067f2ec9b9e5fa4c35b3 inherit pub_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="a01aa4c4b93df067f2ec9b9e5fa4c35b3"></a>
const <a class="el" href="class_tf_weak_base.html">TfWeakBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>__GetTfWeakBase__</b> () const</td></tr>
<tr class="separator:a01aa4c4b93df067f2ec9b9e5fa4c35b3 inherit pub_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af890ac314073e903458bf6b2397566b5 inherit pub_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="af890ac314073e903458bf6b2397566b5"></a>
const <a class="el" href="class_tf_weak_base.html">TfWeakBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_tf_weak_base.html">TfWeakBase</a> &amp;)</td></tr>
<tr class="separator:af890ac314073e903458bf6b2397566b5 inherit pub_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f1e27cc0c7c606ffb397b7d970ed10 inherit pub_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="a16f1e27cc0c7c606ffb397b7d970ed10"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>EnableNotification2</b> () const</td></tr>
<tr class="separator:a16f1e27cc0c7c606ffb397b7d970ed10 inherit pub_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3241c32a82fbed0716a77049f6134e1e inherit pub_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="a3241c32a82fbed0716a77049f6134e1e"></a>
TF_API void const  *&#160;</td><td class="memItemRight" valign="bottom"><b>GetUniqueIdentifier</b> () const</td></tr>
<tr class="separator:a3241c32a82fbed0716a77049f6134e1e inherit pub_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa69ed230f899c985bdec45fb0bf66888"><td class="memItemLeft" align="right" valign="top"><a id="aa69ed230f899c985bdec45fb0bf66888"></a>
static USDIMAGING_API UsdImagingNiPrototypePropagatingSceneIndexRefPtr&#160;</td><td class="memItemRight" valign="bottom"><b>New</b> (HdSceneIndexBaseRefPtr const &amp;inputSceneIndex, const <a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a> &amp;instanceDataSourceNames, const SceneIndexAppendCallback &amp;sceneIndexAppendCallback)</td></tr>
<tr class="separator:aa69ed230f899c985bdec45fb0bf66888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_tf_ref_base"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_tf_ref_base')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_tf_ref_base.html">TfRefBase</a></td></tr>
<tr class="memitem:a33e6c8ffe0caf7dac94ba5c4a4485fbd inherit pub_static_methods_class_tf_ref_base"><td class="memItemLeft" align="right" valign="top"><a id="a33e6c8ffe0caf7dac94ba5c4a4485fbd"></a>
static TF_API void&#160;</td><td class="memItemRight" valign="bottom"><b>SetUniqueChangedListener</b> (UniqueChangedListener listener)</td></tr>
<tr class="separator:a33e6c8ffe0caf7dac94ba5c4a4485fbd inherit pub_static_methods_class_tf_ref_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:abef5be434c9cb95bc15c4cbd592fcc7b"><td class="memItemLeft" align="right" valign="top"><a id="abef5be434c9cb95bc15c4cbd592fcc7b"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>_InstanceAggregationSceneIndexObserver</b></td></tr>
<tr class="separator:abef5be434c9cb95bc15c4cbd592fcc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad24ac14983e911a13d4655882b221a"><td class="memItemLeft" align="right" valign="top"><a id="acad24ac14983e911a13d4655882b221a"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>_MergingSceneIndexObserver</b></td></tr>
<tr class="separator:acad24ac14983e911a13d4655882b221a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_hd_scene_index_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_hd_scene_index_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_hd_scene_index_base.html">HdSceneIndexBase</a></td></tr>
<tr class="memitem:a566958f83fe2054d86628e4c4e2f841e inherit pro_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a566958f83fe2054d86628e4c4e2f841e">_SendPrimsAdded</a> (const <a class="el" href="class_tf_small_vector.html">HdSceneIndexObserver::AddedPrimEntries</a> &amp;entries)</td></tr>
<tr class="memdesc:a566958f83fe2054d86628e4c4e2f841e inherit pro_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify attached observers of prims added to the scene.  <a href="class_hd_scene_index_base.html#a566958f83fe2054d86628e4c4e2f841e">More...</a><br /></td></tr>
<tr class="separator:a566958f83fe2054d86628e4c4e2f841e inherit pro_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e280a551530aaba14f7ce5df20389a inherit pro_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a16e280a551530aaba14f7ce5df20389a">_SendPrimsRemoved</a> (const <a class="el" href="class_tf_small_vector.html">HdSceneIndexObserver::RemovedPrimEntries</a> &amp;entries)</td></tr>
<tr class="memdesc:a16e280a551530aaba14f7ce5df20389a inherit pro_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify attached observers of prims removed from the scene.  <a href="class_hd_scene_index_base.html#a16e280a551530aaba14f7ce5df20389a">More...</a><br /></td></tr>
<tr class="separator:a16e280a551530aaba14f7ce5df20389a inherit pro_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1dac2d67ffd966dfbcd412a22c1179 inherit pro_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a9c1dac2d67ffd966dfbcd412a22c1179">_SendPrimsDirtied</a> (const <a class="el" href="class_tf_small_vector.html">HdSceneIndexObserver::DirtiedPrimEntries</a> &amp;entries)</td></tr>
<tr class="memdesc:a9c1dac2d67ffd966dfbcd412a22c1179 inherit pro_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify attached observers of datasource invalidations from the scene.  <a href="class_hd_scene_index_base.html#a9c1dac2d67ffd966dfbcd412a22c1179">More...</a><br /></td></tr>
<tr class="separator:a9c1dac2d67ffd966dfbcd412a22c1179 inherit pro_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3375e09c9ad141da11cebb7d3d7f23e3 inherit pro_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a3375e09c9ad141da11cebb7d3d7f23e3">_SendPrimsRenamed</a> (const <a class="el" href="class_tf_small_vector.html">HdSceneIndexObserver::RenamedPrimEntries</a> &amp;entries)</td></tr>
<tr class="memdesc:a3375e09c9ad141da11cebb7d3d7f23e3 inherit pro_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify attached observers of prims (and their descendents) which have been renamed or reparented.  <a href="class_hd_scene_index_base.html#a3375e09c9ad141da11cebb7d3d7f23e3">More...</a><br /></td></tr>
<tr class="separator:a3375e09c9ad141da11cebb7d3d7f23e3 inherit pro_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c16c67e47002938f665bbef4897e777 inherit pro_methods_class_hd_scene_index_base"><td class="memItemLeft" align="right" valign="top">HD_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_scene_index_base.html#a4c16c67e47002938f665bbef4897e777">_IsObserved</a> () const</td></tr>
<tr class="memdesc:a4c16c67e47002938f665bbef4897e777 inherit pro_methods_class_hd_scene_index_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the scene index has any registered observers; this information can be used to skip work preparing notices when there are no observers.  <a href="class_hd_scene_index_base.html#a4c16c67e47002938f665bbef4897e777">More...</a><br /></td></tr>
<tr class="separator:a4c16c67e47002938f665bbef4897e777 inherit pro_methods_class_hd_scene_index_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_tf_weak_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_tf_weak_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_tf_weak_base.html">TfWeakBase</a></td></tr>
<tr class="memitem:a95139d2f4d04eb706664a4f47eb93918 inherit pro_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="a95139d2f4d04eb706664a4f47eb93918"></a>
<a class="el" href="class_tf_ref_ptr.html">TfRefPtr</a>&lt; Tf_Remnant &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_Register</b> () const</td></tr>
<tr class="separator:a95139d2f4d04eb706664a4f47eb93918 inherit pro_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1312732482c8a286522f703f2cf90d1 inherit pro_methods_class_tf_weak_base"><td class="memTemplParams" colspan="2"><a id="ac1312732482c8a286522f703f2cf90d1"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:ac1312732482c8a286522f703f2cf90d1 inherit pro_methods_class_tf_weak_base"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="class_tf_ref_ptr.html">TfRefPtr</a>&lt; Tf_Remnant &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>_Register</b> (T *tempRmnt) const</td></tr>
<tr class="separator:ac1312732482c8a286522f703f2cf90d1 inherit pro_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5533162e8efab1be47acd6ccd5254c inherit pro_methods_class_tf_weak_base"><td class="memItemLeft" align="right" valign="top"><a id="a6a5533162e8efab1be47acd6ccd5254c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_HasRemnant</b> () const</td></tr>
<tr class="separator:a6a5533162e8efab1be47acd6ccd5254c inherit pro_methods_class_tf_weak_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A scene index implementing USD native instancing. </p>
<p>If combined with the <a class="el" href="class_usd_imaging_pi_prototype_propagating_scene_index.html" title="A scene index translating USD point instancers into Hydra instancers.">UsdImagingPiPrototypePropagatingSceneIndex</a>, the native instancing scene index has to be run after the point instancing scene index.</p>
<p>This scene index uses the UsdImgingNiInstanceAggregationSceneIndex to find all instances, aggregate them and insert instancers for each set of aggregated instances. This scene index then inserts flattened and possibly further transformed (e.g. applying draw mode) copies of the corresponding USD prototype underneath each of these instancers. Each of these copies is actually a <a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a> itself. This way, we can handle nested native instancing. In other words, we can call the <a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a> for a USD prototype and it will find the instances within that prototype.</p>
<p>The instancing scene index uses the instancedBy:prototypeRoot of the input scene index during aggregation. Typically, the input scene index will be a <a class="el" href="class_usd_imaging_pi_prototype_propagating_scene_index.html" title="A scene index translating USD point instancers into Hydra instancers.">UsdImagingPiPrototypePropagatingSceneIndex</a> which populates instancedBy:prototypeRoot based on which point instancer is instancing a prim.</p>
<p>This scene index is implemented by a merging scene index with the following inputs:</p><ul>
<li>a scene index ultimately tracing back to UsdImaging_NiPrototypeSceneIndex which prepares the prototype for which this scene index was created. The scene indices applied after UsdImaging_NiPrototypeSceneIndex include a flattening scene index as well as scene indices that can be specified through a callback by a user (typically, the draw mode scene index).</li>
<li>the UsdImaging_NiInstanceAggregationSceneIndex instantiated from the above scene index. The instance aggregation scene index will insert the instancers for the instances within this prototype.</li>
<li>More <a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a>'s: The _InstanceAggregationSceneIndexObserver will observe the latter scene index to add respective <a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a>'s under each instancer.</li>
</ul>
<p>Example 1 (also see Example 1 in niInstanceAggregationSceneIndex.h)</p>
<p>USD:</p>
<p>def Xform "MyPrototype" { def Cube "MyCube" { } }</p>
<p>def "Cube_1" ( instanceable = true references = &lt;/MyPrototype&gt; { }</p>
<p>Inputs of the <a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex(inputSceneIndex)</a>: </p><pre class="fragment">* HdMergingSceneIndex
    * UsdImagingDrawModeSceneIndex (through SceneIndexAppendCallback)
         * HdFlatteningSceneIndex 
           inputArgs = UsdImagingFlattenedDataSourceProviders()
           [So model:drawMode is also flattened]
             * UsdImaging_NiPrototypeSceneIndex
                 forPrototype = false
                 prototypeRootOverlayDs = null
                 * UsdImaging_NiPrototypePruningSceneIndex
                   forPrototype = false
                     * inputSceneIndex (typically a UsdImagingPiPrototypePropagatingSceneIndex)
    * UsdImaging_NiInstanceAggregationSceneIndex 
      forPrototype = false
      instanceDataSourceNames = ['materialBindings', 'purpose', 'model']
         * UsdImagingDrawModeSceneIndex
           [... as above]
    * UsdImagingRerootingSceneIndex
      (inserted by _InstanceAggregationSceneIndexObserver::PrimsAdded
       through _MergingSceneIndexEntry)
      srcPrefix = /UsdNiInstancer
      dstPrefix = /UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer
        * UsdImagingNiPrototypePropagatingSceneIndex
          prototypeName = __Prototype_1
            * HdMergingSceneIndex
                * UsdImagingDrawModeSceneIndex (through SceneIndexAppendCallback)
                    * HdFlatteningSceneIndex 
                      inputArgs = UsdImagingFlattenedDataSourceProviders()
                      [So model:drawMode is also flattened]
                        * UsdImaging_NiPrototypeSceneIndex
                          forPrototype = true
                            * UsdImagingRerootingSceneIndex
                              srcPrefix = /__PrototypeRoot1
                              dstPrefix = /UsdNiInstancer/UsdNiPrototype
                                * inputSceneIndex
                * UsdImaging_NiInstanceAggregationSceneIndex
                  forPrototype = true
                    * UsdImagingDrawModeSceneIndex
                      [... as just above]
</pre><p><a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a></p>
<p>/Cube_1 primType: "" dataSource: instance: # Useful for translating Usd proxy paths for selection. </p><h1>See corresponding example in niInstanceAggregationIndex</h1>
<h1>for more details.</h1>
<p>instancer: /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer prototypeId: 0 instanceId: 0 purpose: # From flattening scene index purpose: geometry xform: # From flattening scene index matrix: [ identity matrix] primOrigin: scenePath: <a class="el" href="class_hd_prim_origin_schema_1_1_origin_path.html" title="Wraps an SdfPath so that it is not affected by the prefixing scene index.">HdPrimOriginSchema::OriginPath</a>(/Cube_1) ... /MyPrototype # Not referenced from a different file, so appears here </p><h1>as non-prototype as well</h1>
<p>primType: "" /MyPrototype/MyCube primType: cube /UsdNiPropagatedPrototypes primType: "" /UsdNiPropagatedPrototypes/Bindings_423...234 primType: "" dataSource: purpose: # Added by instance aggregation scene index, copied from /Cube_1 purpose: geometry </p><h1>No xform, visibility (never copied by instance aggregation, written to</h1>
<p>instancer instead) /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1 primType: "" /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer primType: instancer dataSource: instancerTopology: instanceIndices: i0: [ 0 ] prototypes: [ /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer/UsdNiPrototype instanceLocations: [ /Cube_1 ] # for picking primvars: hydra:instanceTransforms: primvarValue: [ identity matrix ] interpolation: instance /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer/UsdNiPrototype primType: "" dataSource: instancedBy: paths: [ /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer ] prototypeRoot: /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1 /UsdNiInstancer/UsdNiPrototype purpose: # Added by prototype scene index, copied from /UsdNiPropagatedPrototypes/Bindings_423...234 </p><h1>Flattened scene index did not touch it.</h1>
<p>purpose: geometry xform: # From flattening scene index matrix: [ identity matrix ] resetXformStack: true primOrigin: scenePath: <a class="el" href="class_hd_prim_origin_schema_1_1_origin_path.html" title="Wraps an SdfPath so that it is not affected by the prefixing scene index.">HdPrimOriginSchema::OriginPath</a>(.) /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer/UsdNiPrototype/MyCube primType: cube dataSource: instancedBy: paths: [ /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1/UsdNiInstancer ] prototypeRoot: /UsdNiPropagatedPrototypes/Bindings_423...234/__Prototype_1 /UsdNiInstancer/UsdNiPrototype purpose: # From flattening scene index purpose: geometry xform: # From flattening scene index matrix: [ identity matrix ] resetXformStack: true primOrigin: scenePath: <a class="el" href="class_hd_prim_origin_schema_1_1_origin_path.html" title="Wraps an SdfPath so that it is not affected by the prefixing scene index.">HdPrimOriginSchema::OriginPath(MyCube)</a></p>
<p>Example 2:</p>
<p>def Xform "MyNestedPrototype" # Will become USD prototype /__Prototype_1 { def Cube "MyCube" { } }</p>
<p>def Xform "MyPrototype" # Will become USD prototype /__Prototype_2 { def "MyNestedInstance" ( instanceable = true references = &lt;/MyNestedPrototype&gt; ) { } }</p>
<p>def Xform "MyInstance" ( instanceable = true references = &lt;/MyPrototype&gt;) {</p>
<p>}</p>
<p><a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html" title="A scene index implementing USD native instancing.">UsdImagingNiPrototypePropagatingSceneIndex</a></p>
<p>... /MyInstance primType: "" dataSource: instance: instancer: /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer prototypeId: 0 instanceId: 0 ... /UsdNiPropagatedPrototypes primType: "" /UsdNiPropagatedPrototypes/NoBindings primType: "" dataSource: ... /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2 primType: "" /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer primType: instancer dataSource: instanerTopology: prototypes: [ /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype ] ... /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/_Prototype_2 primType: "" /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/_Prototype_2/MyNestedInstance primType: "" dataSource: instancer: /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer prototypeId: 0 instanceId: 0 ... /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings primType: "" dataSource: ... /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1 primType: "" /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer primType: instancer dataSource: instanerTopology: prototypes: [ /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer/UsdPiPrototype ] ... instancedBy: paths: [ /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer ] prototypeRoot: /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer/UsdPiPrototype primType: "" dataSource: instancedBy: paths: [ /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer ] prototypeRoot: /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer/UsdPiPrototype ... /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer/UsdPiPrototype/MyCube primType: "cube" dataSource: instancedBy: paths: [ /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/UsdPiPrototype/UsdNiInstancer ] prototypeRoot: /UsdNiPropagatedPrototypes/NoBindings/__Prototype_2/UsdNiInstancer/UsdPiPrototype/UsdNiPropagatedPrototypes/NoBindings/__Prototype_1/UsdNiInstancer/UsdPiPrototype ... </p>

<p class="definition">Definition at line <a class="el" href="ni_prototype_propagating_scene_index_8h_source.html#l00303">303</a> of file <a class="el" href="ni_prototype_propagating_scene_index_8h_source.html">niPrototypePropagatingSceneIndex.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a33d8098e368b10320813798c8beda58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d8098e368b10320813798c8beda58e">&#9670;&nbsp;</a></span>GetChildPrimPaths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">USDIMAGING_API SdfPathVector GetChildPrimPaths </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_sdf_path.html">SdfPath</a> &amp;&#160;</td>
          <td class="paramname"><em>primPath</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the paths of all scene index prims located immediately below <code>primPath</code>. </p>
<p>This function can be used to traverse the scene by recursing from <code><a class="el" href="class_sdf_path.html#a9e77b565c10268c2b55f92559f621606" title="The absolute path representing the top of the namespace hierarchy.">SdfPath::AbsoluteRootPath()</a></code>; such a traversal is expected to give the same set of prims as the flattening of the scene index's <code>PrimsAdded</code> and <code>PrimsRemoved</code> messages. This function is expected to be threadsafe. </p>

<p>Implements <a class="el" href="class_hd_scene_index_base.html#a15f110d26e84bc60a48a201f8c8315c2">HdSceneIndexBase</a>.</p>

</div>
</div>
<a id="a4838527885ff92539845ba52882d2a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4838527885ff92539845ba52882d2a56">&#9670;&nbsp;</a></span>GetPrim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">USDIMAGING_API <a class="el" href="struct_hd_scene_index_prim.html">HdSceneIndexPrim</a> GetPrim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_sdf_path.html">SdfPath</a> &amp;&#160;</td>
          <td class="paramname"><em>primPath</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a pair of (prim type, datasource) for the object at <code>primPath</code>. </p>
<p>If no such object exists, the type will be the empty token and the datasource will be null. This function is expected to be threadsafe. </p>

<p>Implements <a class="el" href="class_hd_scene_index_base.html#abd7fb68e635586e7cabb74b1dd0ddc0e">HdSceneIndexBase</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/usdImaging/usdImaging/<a class="el" href="ni_prototype_propagating_scene_index_8h_source.html">niPrototypePropagatingSceneIndex.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_usd_imaging_ni_prototype_propagating_scene_index.html">UsdImagingNiPrototypePropagatingSceneIndex</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:08 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>