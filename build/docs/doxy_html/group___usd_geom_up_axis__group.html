<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: Encoding Stage UpAxis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___usd_geom_up_axis__group.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Encoding Stage UpAxis</div>  </div>
</div><!--header-->
<div class="contents">

<p>Even if all <a class="el" href="class_usd_geom_camera.html" title="Transformable camera.">UsdGeomCamera</a> objects in a scene are encoded with a transformation that assumes the Y axis is up, that cannot always imply that the geometry contained in the scene was modeled with the Y axis pointing up, since some modeling applications assume Z is up, and others allow you to configure whether Y or Z is up.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga480f2539b4bf73920215e08623e80320"><td class="memItemLeft" align="right" valign="top">USDGEOM_API <a class="el" href="class_tf_token.html">TfToken</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___usd_geom_up_axis__group.html#ga480f2539b4bf73920215e08623e80320">UsdGeomGetStageUpAxis</a> (const UsdStageWeakPtr &amp;stage)</td></tr>
<tr class="memdesc:ga480f2539b4bf73920215e08623e80320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch and return <code>stage</code> 's upAxis.  <a href="#ga480f2539b4bf73920215e08623e80320">More...</a><br /></td></tr>
<tr class="separator:ga480f2539b4bf73920215e08623e80320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac59d89f9563d1af609f80c34e2afdbf7"><td class="memItemLeft" align="right" valign="top">USDGEOM_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___usd_geom_up_axis__group.html#gac59d89f9563d1af609f80c34e2afdbf7">UsdGeomSetStageUpAxis</a> (const UsdStageWeakPtr &amp;stage, const <a class="el" href="class_tf_token.html">TfToken</a> &amp;axis)</td></tr>
<tr class="memdesc:gac59d89f9563d1af609f80c34e2afdbf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set <code>stage</code> 's upAxis to <code>axis</code>, which must be one of UsdGeomTokens-&gt;y or UsdGeomTokens-&gt;z.  <a href="#gac59d89f9563d1af609f80c34e2afdbf7">More...</a><br /></td></tr>
<tr class="separator:gac59d89f9563d1af609f80c34e2afdbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf16b05f297f696c58a086dacc1e288b5"><td class="memItemLeft" align="right" valign="top">USDGEOM_API <a class="el" href="class_tf_token.html">TfToken</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___usd_geom_up_axis__group.html#gaf16b05f297f696c58a086dacc1e288b5">UsdGeomGetFallbackUpAxis</a> ()</td></tr>
<tr class="memdesc:gaf16b05f297f696c58a086dacc1e288b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the site-level fallback up axis as a <a class="el" href="class_tf_token.html" title="Token for efficient comparison, assignment, and hashing of known strings.">TfToken</a>.  <a href="#gaf16b05f297f696c58a086dacc1e288b5">More...</a><br /></td></tr>
<tr class="separator:gaf16b05f297f696c58a086dacc1e288b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Even if all <a class="el" href="class_usd_geom_camera.html" title="Transformable camera.">UsdGeomCamera</a> objects in a scene are encoded with a transformation that assumes the Y axis is up, that cannot always imply that the geometry contained in the scene was modeled with the Y axis pointing up, since some modeling applications assume Z is up, and others allow you to configure whether Y or Z is up. </p>
<p>Rather than impose one axis or the other on all UsdGeom scenes - which would require either transposing point coordinates into and out of some applications, or making assumptions about where a -90 degree rotation has been applied and effectively, mysteriously swapping the roles of Y and Z coordinates - we allow each stage to carry, in its root layer, a declaration of the up axis for all the geometry contained in the stage, and require applications to consult it if they wish to create new cameras to view the scene in its intended orientation.</p>
<p>Note that because you can make only a Stage-level declaration of up axis, it must hold true for all referenced geometry and assets. A conscientious set/environment-construction tool could examine the up axis of referenced assets as they are being referenced, and apply a corrective rotation on the referencing prim as it is being added to the scene, when the referenced up axis differs from the set's.</p>
<p>We provide free functions for setting (<a class="el" href="group___usd_geom_up_axis__group.html#gac59d89f9563d1af609f80c34e2afdbf7" title="Set stage &#39;s upAxis to axis, which must be one of UsdGeomTokens-&gt;y or UsdGeomTokens-&gt;z.">UsdGeomSetStageUpAxis()</a>), retrieving (<a class="el" href="group___usd_geom_up_axis__group.html#ga480f2539b4bf73920215e08623e80320" title="Fetch and return stage &#39;s upAxis.">UsdGeomGetStageUpAxis()</a>), and declaring a site-level fallback up axis (<a class="el" href="group___usd_geom_up_axis__group.html#gaf16b05f297f696c58a086dacc1e288b5" title="Return the site-level fallback up axis as a TfToken.">UsdGeomGetFallbackUpAxis()</a>) that can be configured with a <a class="el" href="class_plug_plugin.html" title="Defines an interface to registered plugins.">PlugPlugin</a> plugInfo.json file. See the individual methods for details.</p>
<p>The stage up axis is encoded as stage metadatum <em>upAxis</em>, whose legal values are "Y" and "Z", as represented by UsdGeomTokens-&gt;y and UsdGeomTokens-&gt;z. Of course, constructing a correct camera view of a scene depends not only on the up axis, but also on the handedness of the coordinate system. Like OpenGL and the fallback for <a class="el" href="class_usd_geom_gprim.html#a6d7f451cf0aa27125cc118b030ebb735" title="Orientation specifies whether the gprim&#39;s surface normal should be computed using the right hand rule...">UsdGeomGprim::GetOrientationAttr()</a>, <b>UsdGeom stipulates a right-handed coordinate system.</b> Therefore, when viewing a <a class="el" href="class_usd_stage.html" title="The outermost container for scene description, which owns and presents composed prims as a scenegraph...">UsdStage</a> with a "Y" up axis, the stage's Z axis will be pointing out of the screen, and when viewing a <a class="el" href="class_usd_stage.html" title="The outermost container for scene description, which owns and presents composed prims as a scenegraph...">UsdStage</a> with a "Z" up axis, the stage's Y axis will be pointing into the screen. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf16b05f297f696c58a086dacc1e288b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf16b05f297f696c58a086dacc1e288b5">&#9670;&nbsp;</a></span>UsdGeomGetFallbackUpAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDGEOM_API <a class="el" href="class_tf_token.html">TfToken</a> UsdGeomGetFallbackUpAxis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the site-level fallback up axis as a <a class="el" href="class_tf_token.html" title="Token for efficient comparison, assignment, and hashing of known strings.">TfToken</a>. </p>
<p>In a generic installation of USD, the fallback will be "Y". This can be changed to "Z" by adding, in a plugInfo.json file discoverable by USD's <a class="el" href="class_plug_plugin.html" title="Defines an interface to registered plugins.">PlugPlugin</a> mechanism: </p><div class="fragment"><div class="line">&quot;UsdGeomMetrics&quot;: {</div><div class="line">    &quot;upAxis&quot;: &quot;Z&quot;</div><div class="line">}</div></div><!-- fragment --><p>If more than one such entry is discovered and the values for upAxis differ, we will issue a warning during the first call to this function, and ignore all of them, so that we devolve to deterministic behavior of Y up axis until the problem is rectified. </p>

</div>
</div>
<a id="ga480f2539b4bf73920215e08623e80320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga480f2539b4bf73920215e08623e80320">&#9670;&nbsp;</a></span>UsdGeomGetStageUpAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDGEOM_API <a class="el" href="class_tf_token.html">TfToken</a> UsdGeomGetStageUpAxis </td>
          <td>(</td>
          <td class="paramtype">const UsdStageWeakPtr &amp;&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch and return <code>stage</code> 's upAxis. </p>
<p>If unauthored, will return the value provided by <a class="el" href="group___usd_geom_up_axis__group.html#gaf16b05f297f696c58a086dacc1e288b5" title="Return the site-level fallback up axis as a TfToken.">UsdGeomGetFallbackUpAxis()</a>. Exporters, however, are strongly encouraged to always set the upAxis for every USD file they create.</p>
<dl class="section return"><dt>Returns</dt><dd>one of: UsdGeomTokens-&gt;y or UsdGeomTokens-&gt;z, unless there was an error, in which case returns an empty <a class="el" href="class_tf_token.html" title="Token for efficient comparison, assignment, and hashing of known strings.">TfToken</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___usd_geom_up_axis__group.html" title="Even if all UsdGeomCamera objects in a scene are encoded with a transformation that assumes the Y axi...">Encoding Stage UpAxis</a> </dd></dl>

</div>
</div>
<a id="gac59d89f9563d1af609f80c34e2afdbf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac59d89f9563d1af609f80c34e2afdbf7">&#9670;&nbsp;</a></span>UsdGeomSetStageUpAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USDGEOM_API bool UsdGeomSetStageUpAxis </td>
          <td>(</td>
          <td class="paramtype">const UsdStageWeakPtr &amp;&#160;</td>
          <td class="paramname"><em>stage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tf_token.html">TfToken</a> &amp;&#160;</td>
          <td class="paramname"><em>axis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set <code>stage</code> 's upAxis to <code>axis</code>, which must be one of UsdGeomTokens-&gt;y or UsdGeomTokens-&gt;z. </p>
<p>UpAxis is stage-level metadata, therefore see <a class="el" href="class_usd_stage.html#a1a5325c3bfad050926f03f867a803c03" title="Set the value of Stage metadatum key to value, if the stage&#39;s current UsdEditTarget is the root or se...">UsdStage::SetMetadata()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>true if upAxis was successfully set. The stage's <a class="el" href="class_usd_edit_target.html" title="Defines a mapping from scene graph paths to Sdf spec paths in a SdfLayer where edits should be direct...">UsdEditTarget</a> must be either its root layer or session layer. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___usd_geom_up_axis__group.html" title="Even if all UsdGeomCamera objects in a scene are encoded with a transformation that assumes the Y axi...">Encoding Stage UpAxis</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:06:58 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>