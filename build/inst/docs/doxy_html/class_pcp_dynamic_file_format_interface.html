<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: PcpDynamicFileFormatInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_pcp_dynamic_file_format_interface.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_pcp_dynamic_file_format_interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PcpDynamicFileFormatInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface mixin that can be included by <a class="el" href="class_sdf_file_format.html" title="Base class for file format implementations.">SdfFileFormat</a> subclasses to enable dynamic file format argument generation for a file format plugin.  
 <a href="class_pcp_dynamic_file_format_interface.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4664acd2825272ec078147e2c1eeabb"><td class="memItemLeft" align="right" valign="top">virtual PCP_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pcp_dynamic_file_format_interface.html#ae4664acd2825272ec078147e2c1eeabb">~PcpDynamicFileFormatInterface</a> ()</td></tr>
<tr class="memdesc:ae4664acd2825272ec078147e2c1eeabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty virtual destructor to prevent build errors with some compilers.  <a href="#ae4664acd2825272ec078147e2c1eeabb">More...</a><br /></td></tr>
<tr class="separator:ae4664acd2825272ec078147e2c1eeabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af0bb04b1f5f6e5f708ee07892fb090"><td class="memItemLeft" align="right" valign="top">virtual PCP_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pcp_dynamic_file_format_interface.html#a4af0bb04b1f5f6e5f708ee07892fb090">ComposeFieldsForFileFormatArguments</a> (const std::string &amp;assetPath, const <a class="el" href="class_pcp_dynamic_file_format_context.html">PcpDynamicFileFormatContext</a> &amp;context, <a class="el" href="class_sdf_file_format.html#a1dfd2030337b6243cd6424fce7397590">SdfFileFormat::FileFormatArguments</a> *args, <a class="el" href="class_vt_value.html">VtValue</a> *dependencyContextData) const =0</td></tr>
<tr class="memdesc:a4af0bb04b1f5f6e5f708ee07892fb090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived classes must implement this function to compose prim metadata fields and/or attribute default values using the given <code>context</code> and use them to generate file format arguments for the layer at <code>assetPath</code>.  <a href="#a4af0bb04b1f5f6e5f708ee07892fb090">More...</a><br /></td></tr>
<tr class="separator:a4af0bb04b1f5f6e5f708ee07892fb090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8d904695c0922ff74507d0afd1df8f"><td class="memItemLeft" align="right" valign="top">virtual PCP_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pcp_dynamic_file_format_interface.html#a1a8d904695c0922ff74507d0afd1df8f">CanFieldChangeAffectFileFormatArguments</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;field, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;oldValue, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;newValue, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;dependencyContextData) const</td></tr>
<tr class="memdesc:a1a8d904695c0922ff74507d0afd1df8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the change to scene description of the field named <code>field</code> can affect the dynamic file format arguments generated by ComposeFieldsForFileFormatArguments.  <a href="#a1a8d904695c0922ff74507d0afd1df8f">More...</a><br /></td></tr>
<tr class="separator:a1a8d904695c0922ff74507d0afd1df8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3776801ea8378314a2e94a238bbd6f5"><td class="memItemLeft" align="right" valign="top">virtual PCP_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pcp_dynamic_file_format_interface.html#aa3776801ea8378314a2e94a238bbd6f5">CanAttributeDefaultValueChangeAffectFileFormatArguments</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;attributeName, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;oldValue, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;newValue, const <a class="el" href="class_vt_value.html">VtValue</a> &amp;dependencyContextData) const</td></tr>
<tr class="memdesc:aa3776801ea8378314a2e94a238bbd6f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the change to scene description of the default field for the attribute named <code>attributeName</code> can affect the dynamic file format arguments generated by ComposeFieldsForFileFormatArguments.  <a href="#aa3776801ea8378314a2e94a238bbd6f5">More...</a><br /></td></tr>
<tr class="separator:aa3776801ea8378314a2e94a238bbd6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface mixin that can be included by <a class="el" href="class_sdf_file_format.html" title="Base class for file format implementations.">SdfFileFormat</a> subclasses to enable dynamic file format argument generation for a file format plugin. </p>
<p>When prim index composition encounters a payload to an asset of a file format that implements this interface, it will call ComposeFieldsForFileFormatArguments to generate arguments from the current composition context at which the payload is being added. The derived file format is on the hook for using the provided context to compute any prim field values it needs and generate the relevant file format arguments for its content. </p>

<p class="definition">Definition at line <a class="el" href="dynamic_file_format_interface_8h_source.html#l00047">47</a> of file <a class="el" href="dynamic_file_format_interface_8h_source.html">dynamicFileFormatInterface.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae4664acd2825272ec078147e2c1eeabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4664acd2825272ec078147e2c1eeabb">&#9670;&nbsp;</a></span>~PcpDynamicFileFormatInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PCP_API ~<a class="el" href="class_pcp_dynamic_file_format_interface.html">PcpDynamicFileFormatInterface</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty virtual destructor to prevent build errors with some compilers. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa3776801ea8378314a2e94a238bbd6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3776801ea8378314a2e94a238bbd6f5">&#9670;&nbsp;</a></span>CanAttributeDefaultValueChangeAffectFileFormatArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PCP_API bool CanAttributeDefaultValueChangeAffectFileFormatArguments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_token.html">TfToken</a> &amp;&#160;</td>
          <td class="paramname"><em>attributeName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>oldValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>newValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>dependencyContextData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the change to scene description of the default field for the attribute named <code>attributeName</code> can affect the dynamic file format arguments generated by ComposeFieldsForFileFormatArguments. </p>
<p>This function will be called during change processing to determine whether a change to a attribute's default value affects the dynamic file format arguments of a payload that a prim index depends on.</p>
<p>The default implementation always returns true, indicating that any default value change for a passed in attribute will require file format arguments to be recomputed. Derived classes can override this function to be more discerning about which changes would truly cause a file format argument update, reducing the number of unnecessary recompositions of dynamic payloads using its file format.</p>
<p><code>oldValue</code> and <code>newValue</code> contain the old and new values of the default value field. <code>dependencyContextData</code> is the arbitrary typed data that was generated by the call to ComposeFieldsForFileFormatArguments when the payload arc was computed. </p>

</div>
</div>
<a id="a1a8d904695c0922ff74507d0afd1df8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8d904695c0922ff74507d0afd1df8f">&#9670;&nbsp;</a></span>CanFieldChangeAffectFileFormatArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PCP_API bool CanFieldChangeAffectFileFormatArguments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_token.html">TfToken</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>oldValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>newValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_vt_value.html">VtValue</a> &amp;&#160;</td>
          <td class="paramname"><em>dependencyContextData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the change to scene description of the field named <code>field</code> can affect the dynamic file format arguments generated by ComposeFieldsForFileFormatArguments. </p>
<p>This function will be called during change processing to determine whether a change to a field affects the dynamic file format arguments of a payload that a prim index depends on.</p>
<p>The default implementation always returns true, indicating that any value change for a passed in field will require file format arguments to be recomputed. Derived classes can override this function to be more discerning about which changes would truly cause a file format argument update, reducing the number of unnecessary recompositions of dynamic payloads using its file format.</p>
<p><code>oldValue</code> and <code>newValue</code> contain the old and new values of the field. <code>dependencyContextData</code> is the arbitrary typed data that was generated by the call to ComposeFieldsForFileFormatArguments when the payload arc was computed. </p>

</div>
</div>
<a id="a4af0bb04b1f5f6e5f708ee07892fb090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af0bb04b1f5f6e5f708ee07892fb090">&#9670;&nbsp;</a></span>ComposeFieldsForFileFormatArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PCP_API void ComposeFieldsForFileFormatArguments </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>assetPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_pcp_dynamic_file_format_context.html">PcpDynamicFileFormatContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_sdf_file_format.html#a1dfd2030337b6243cd6424fce7397590">SdfFileFormat::FileFormatArguments</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vt_value.html">VtValue</a> *&#160;</td>
          <td class="paramname"><em>dependencyContextData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived classes must implement this function to compose prim metadata fields and/or attribute default values using the given <code>context</code> and use them to generate file format arguments for the layer at <code>assetPath</code>. </p>
<p>The context provides the methods for composing prim metadata field values and attribute default values at the current point in prim index composition which can be used to generate the relevant file format arguments. In the implementation, these arguments need to be added to the set of file format arguments provided by <code>args</code>.</p>
<p>Additionally, implementations can output <code>dependencyContextData</code> of any value type that will then be passed back in to calls to CanFieldChangeAffectFileFormatArguments and CanAttributeDefaultValueChangeAffectFileFormatArguments during change processing. This can be used to provide more that context that is specific to the file format when determining whether a field change really does affect the arguments generated by a particular call to this function. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/usd/pcp/<a class="el" href="dynamic_file_format_interface_8h_source.html">dynamicFileFormatInterface.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_pcp_dynamic_file_format_interface.html">PcpDynamicFileFormatInterface</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:03 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>