<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: HdStShaderCode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_hd_st_shader_code.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_hd_st_shader_code-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HdStShaderCode Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A base class representing the implementation (code) of a shader, used in conjunction with <a class="el" href="class_hd_render_pass.html" title="An abstract class representing a single render iteration over a set of prims (the HdRprimCollection),...">HdRenderPass</a>.  
 <a href="class_hd_st_shader_code.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for HdStShaderCode:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_hd_st_shader_code__inherit__graph.png" border="0" usemap="#_hd_st_shader_code_inherit__map" alt="Inheritance graph"/></div>
<map name="_hd_st_shader_code_inherit__map" id="_hd_st_shader_code_inherit__map">
<area shape="rect"  title="A base class representing the implementation (code) of a shader, used in conjunction with HdRenderPas..." alt="" coords="129,5,260,32"/>
<area shape="rect"  href="class_hd_st_lighting_shader.html" title="A lighting shader base class." alt="" coords="27,80,177,107"/>
<area shape="rect"  href="class_hd_st_render_pass_shader.html" title="A shader that supports common renderPass functionality." alt="" coords="202,80,373,107"/>
<area shape="rect"  href="class_hd_st_simple_lighting_shader.html" title="A shader that supports simple lighting functionality." alt="" coords="5,155,200,181"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_hd_st_shader_code_1_1_named_texture_handle"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#struct_hd_st_shader_code_1_1_named_texture_handle">NamedTextureHandle</a></td></tr>
<tr class="memdesc:struct_hd_st_shader_code_1_1_named_texture_handle"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information necessary to bind textures and create accessor for the texture.  <a href="class_hd_st_shader_code.html#struct_hd_st_shader_code_1_1_named_texture_handle">More...</a><br /></td></tr>
<tr class="separator:struct_hd_st_shader_code_1_1_named_texture_handle"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code_1_1_resource_context.html">ResourceContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The context available in implementations of AddResourcesFromTextures.  <a href="class_hd_st_shader_code_1_1_resource_context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a98561e8cb698fef2e90d441103da9db1"><td class="memItemLeft" align="right" valign="top"><a id="a98561e8cb698fef2e90d441103da9db1"></a>
typedef size_t&#160;</td><td class="memItemRight" valign="bottom"><b>ID</b></td></tr>
<tr class="separator:a98561e8cb698fef2e90d441103da9db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acfa7f0a0b30c2ac28eeaf6aed0a30231"><td class="memItemLeft" align="right" valign="top">virtual ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#acfa7f0a0b30c2ac28eeaf6aed0a30231">ComputeHash</a> () const =0</td></tr>
<tr class="memdesc:acfa7f0a0b30c2ac28eeaf6aed0a30231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the hash value of the shader code and configuration.  <a href="#acfa7f0a0b30c2ac28eeaf6aed0a30231">More...</a><br /></td></tr>
<tr class="separator:acfa7f0a0b30c2ac28eeaf6aed0a30231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87939b745008a9e4c595ff5a3b7bc47"><td class="memItemLeft" align="right" valign="top">virtual ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#aa87939b745008a9e4c595ff5a3b7bc47">ComputeTextureSourceHash</a> () const</td></tr>
<tr class="memdesc:aa87939b745008a9e4c595ff5a3b7bc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the hash value of the paths of the texture prims consumed by this shader.  <a href="#aa87939b745008a9e4c595ff5a3b7bc47">More...</a><br /></td></tr>
<tr class="separator:aa87939b745008a9e4c595ff5a3b7bc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8717d742607de2b45bea9024d452c00a"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a8717d742607de2b45bea9024d452c00a">GetSource</a> (<a class="el" href="class_tf_token.html">TfToken</a> const &amp;shaderStageKey) const =0</td></tr>
<tr class="memdesc:a8717d742607de2b45bea9024d452c00a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the shader source provided by this shader for <em>shaderStageKey</em>.  <a href="#a8717d742607de2b45bea9024d452c00a">More...</a><br /></td></tr>
<tr class="separator:a8717d742607de2b45bea9024d452c00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c79469678d418e6b22a40cc44c71e9"><td class="memItemLeft" align="right" valign="top">HDST_API <a class="el" href="class_vt_dictionary.html">VtDictionary</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a87c79469678d418e6b22a40cc44c71e9">GetLayout</a> (<a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a> const &amp;shaderStageKeys) const</td></tr>
<tr class="memdesc:a87c79469678d418e6b22a40cc44c71e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the resource layout for the shader stages specified by <em>shaderStageKeys</em>.  <a href="#a87c79469678d418e6b22a40cc44c71e9">More...</a><br /></td></tr>
<tr class="separator:a87c79469678d418e6b22a40cc44c71e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ed1752551f2580e533727f89b421cd"><td class="memItemLeft" align="right" valign="top">virtual HDST_API HdSt_MaterialParamVector const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a33ed1752551f2580e533727f89b421cd">GetParams</a> () const</td></tr>
<tr class="memdesc:a33ed1752551f2580e533727f89b421cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the shader parameters for this shader.  <a href="#a33ed1752551f2580e533727f89b421cd">More...</a><br /></td></tr>
<tr class="separator:a33ed1752551f2580e533727f89b421cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa3f03bbc11d10ddb93f36f864bc55c"><td class="memItemLeft" align="right" valign="top">virtual HDST_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#acaa3f03bbc11d10ddb93f36f864bc55c">IsEnabledPrimvarFiltering</a> () const</td></tr>
<tr class="memdesc:acaa3f03bbc11d10ddb93f36f864bc55c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether primvar filtering is enabled for this shader.  <a href="#acaa3f03bbc11d10ddb93f36f864bc55c">More...</a><br /></td></tr>
<tr class="separator:acaa3f03bbc11d10ddb93f36f864bc55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5eb08abdbce73ddf3875154536a422"><td class="memItemLeft" align="right" valign="top">virtual HDST_API <a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a> const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#aca5eb08abdbce73ddf3875154536a422">GetPrimvarNames</a> () const</td></tr>
<tr class="memdesc:aca5eb08abdbce73ddf3875154536a422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names of primvar that are used by this shader.  <a href="#aca5eb08abdbce73ddf3875154536a422">More...</a><br /></td></tr>
<tr class="separator:aca5eb08abdbce73ddf3875154536a422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6ec58a09a01194b77a4a6e3f44d58c"><td class="memItemLeft" align="right" valign="top">virtual HDST_API HdBufferArrayRangeSharedPtr const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a1c6ec58a09a01194b77a4a6e3f44d58c">GetShaderData</a> () const</td></tr>
<tr class="memdesc:a1c6ec58a09a01194b77a4a6e3f44d58c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a buffer which stores parameter fallback values and texture handles.  <a href="#a1c6ec58a09a01194b77a4a6e3f44d58c">More...</a><br /></td></tr>
<tr class="separator:a1c6ec58a09a01194b77a4a6e3f44d58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13700c17eb68d77baadffa79dbec83d4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a13700c17eb68d77baadffa79dbec83d4">BindResources</a> (int program, HdSt_ResourceBinder const &amp;binder)=0</td></tr>
<tr class="memdesc:a13700c17eb68d77baadffa79dbec83d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds shader-specific resources to <em>program</em> XXX: this interface is meant to be used for bridging the GlfSimpleLightingContext mechanism, and not for generic use-cases.  <a href="#a13700c17eb68d77baadffa79dbec83d4">More...</a><br /></td></tr>
<tr class="separator:a13700c17eb68d77baadffa79dbec83d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aea916f3a072c69d53a67874958794"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#aa5aea916f3a072c69d53a67874958794">UnbindResources</a> (int program, HdSt_ResourceBinder const &amp;binder)=0</td></tr>
<tr class="memdesc:aa5aea916f3a072c69d53a67874958794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unbinds shader-specific resources.  <a href="#aa5aea916f3a072c69d53a67874958794">More...</a><br /></td></tr>
<tr class="separator:aa5aea916f3a072c69d53a67874958794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736c068e4fec90946da60dcd9e2621eb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a736c068e4fec90946da60dcd9e2621eb">AddBindings</a> (HdStBindingRequestVector *customBindings)=0</td></tr>
<tr class="memdesc:a736c068e4fec90946da60dcd9e2621eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add custom bindings (used by codegen)  <a href="#a736c068e4fec90946da60dcd9e2621eb">More...</a><br /></td></tr>
<tr class="separator:a736c068e4fec90946da60dcd9e2621eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa083cfe5ffeb293d140939015cfc4bee"><td class="memItemLeft" align="right" valign="top">virtual HDST_API <a class="el" href="class_tf_token.html">TfToken</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#aa083cfe5ffeb293d140939015cfc4bee">GetMaterialTag</a> () const</td></tr>
<tr class="memdesc:aa083cfe5ffeb293d140939015cfc4bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Material tags can be set in the meta-data of a glslfx file to control what rprim collection that prims using this shader should go into.  <a href="#aa083cfe5ffeb293d140939015cfc4bee">More...</a><br /></td></tr>
<tr class="separator:aa083cfe5ffeb293d140939015cfc4bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f54ea8b13462f62034e2143d600b668"><td class="memItemLeft" align="right" valign="top">virtual HDST_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a7f54ea8b13462f62034e2143d600b668">AddResourcesFromTextures</a> (<a class="el" href="class_hd_st_shader_code_1_1_resource_context.html">ResourceContext</a> &amp;ctx) const</td></tr>
<tr class="memdesc:a7f54ea8b13462f62034e2143d600b668"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called after textures have been allocated and loaded to add buffer sources and computations to the resource registry that require texture meta data not available until the texture is allocated or loaded.  <a href="#a7f54ea8b13462f62034e2143d600b668">More...</a><br /></td></tr>
<tr class="separator:a7f54ea8b13462f62034e2143d600b668"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0cb254cccc84edc7c968ac420c68c510"><td class="memItemLeft" align="right" valign="top">static HDST_API ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#a0cb254cccc84edc7c968ac420c68c510">ComputeHash</a> (HdStShaderCodeSharedPtrVector const &amp;shaders)</td></tr>
<tr class="memdesc:a0cb254cccc84edc7c968ac420c68c510"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the combined hash values of multiple shaders.  <a href="#a0cb254cccc84edc7c968ac420c68c510">More...</a><br /></td></tr>
<tr class="separator:a0cb254cccc84edc7c968ac420c68c510"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Texture system</h2></td></tr>
<tr class="memitem:affddb2cacbc61841edb346aa3404bba8"><td class="memItemLeft" align="right" valign="top"><a id="affddb2cacbc61841edb346aa3404bba8"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>NamedTextureHandleVector</b> = std::vector&lt; <a class="el" href="class_hd_st_shader_code.html#struct_hd_st_shader_code_1_1_named_texture_handle">NamedTextureHandle</a> &gt;</td></tr>
<tr class="separator:affddb2cacbc61841edb346aa3404bba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5d4e1a8aa32dc92f9da89ff4c92659"><td class="memItemLeft" align="right" valign="top">virtual HDST_API NamedTextureHandleVector const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hd_st_shader_code.html#afa5d4e1a8aa32dc92f9da89ff4c92659">GetNamedTextureHandles</a> () const</td></tr>
<tr class="memdesc:afa5d4e1a8aa32dc92f9da89ff4c92659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Textures that need to be bound for this shader.  <a href="#afa5d4e1a8aa32dc92f9da89ff4c92659">More...</a><br /></td></tr>
<tr class="separator:afa5d4e1a8aa32dc92f9da89ff4c92659"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class representing the implementation (code) of a shader, used in conjunction with <a class="el" href="class_hd_render_pass.html" title="An abstract class representing a single render iteration over a set of prims (the HdRprimCollection),...">HdRenderPass</a>. </p>
<p>This interface provides a simple way for clients to affect the composition of shading programs used for a render pass. </p>

<p class="definition">Definition at line <a class="el" href="shader_code_8h_source.html#l00075">75</a> of file <a class="el" href="shader_code_8h_source.html">shaderCode.h</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_hd_st_shader_code_1_1_named_texture_handle" id="struct_hd_st_shader_code_1_1_named_texture_handle"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_hd_st_shader_code_1_1_named_texture_handle">&#9670;&nbsp;</a></span>HdStShaderCode::NamedTextureHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct HdStShaderCode::NamedTextureHandle</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Information necessary to bind textures and create accessor for the texture. </p>

<p class="definition">Definition at line <a class="el" href="shader_code_8h_source.html#l00142">142</a> of file <a class="el" href="shader_code_8h_source.html">shaderCode.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a487007589ea51227d32518151e057b83"></a>HdStTextureHandleSharedPtr</td>
<td class="fieldname">
handle</td>
<td class="fielddoc">
The texture. </td></tr>
<tr><td class="fieldtype">
<a id="a2b07c49e916f21a26aa731f4db68785a"></a>size_t</td>
<td class="fieldname">
hash</td>
<td class="fielddoc">
A hash unique to the corresponding asset; used to split draw batches when not using bindless textures. </td></tr>
<tr><td class="fieldtype">
<a id="adcb40c34d43dc0e96d1da2000f43449c"></a><a class="el" href="class_tf_token.html">TfToken</a></td>
<td class="fieldname">
name</td>
<td class="fielddoc">
Name by which the texture will be accessed, i.e., the name of the accesor for thexture will be HdGet_name(...). </td></tr>
<tr><td class="fieldtype">
<a id="a147019382f7d05073d9f8ef5b61879a1"></a>HdTextureType</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
Equal to handle-&gt;GetTextureObject()-&gt;GetTextureType(). <p>Saved here for convenience (note that name and type completely determine the creation of the texture accesor HdGet_name(...)). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a736c068e4fec90946da60dcd9e2621eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736c068e4fec90946da60dcd9e2621eb">&#9670;&nbsp;</a></span>AddBindings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AddBindings </td>
          <td>(</td>
          <td class="paramtype">HdStBindingRequestVector *&#160;</td>
          <td class="paramname"><em>customBindings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add custom bindings (used by codegen) </p>

<p>Implemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#a4cfef0b3a78e078f1386a3b47f9ea824">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#a4cfef0b3a78e078f1386a3b47f9ea824">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="a7f54ea8b13462f62034e2143d600b668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f54ea8b13462f62034e2143d600b668">&#9670;&nbsp;</a></span>AddResourcesFromTextures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API void AddResourcesFromTextures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hd_st_shader_code_1_1_resource_context.html">ResourceContext</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called after textures have been allocated and loaded to add buffer sources and computations to the resource registry that require texture meta data not available until the texture is allocated or loaded. </p>
<p>For example, the OpenGl texture sampler handle (in the bindless case) is not available until after the texture commit phase. </p>

<p>Reimplemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#abc4479ebc6ccc2e6a51144961627c0b8">HdStSimpleLightingShader</a>.</p>

</div>
</div>
<a id="a13700c17eb68d77baadffa79dbec83d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13700c17eb68d77baadffa79dbec83d4">&#9670;&nbsp;</a></span>BindResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BindResources </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HdSt_ResourceBinder const &amp;&#160;</td>
          <td class="paramname"><em>binder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Binds shader-specific resources to <em>program</em> XXX: this interface is meant to be used for bridging the GlfSimpleLightingContext mechanism, and not for generic use-cases. </p>

<p>Implemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#ae1f190000fb661c92c68506fffc9fb80">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#ae1f190000fb661c92c68506fffc9fb80">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="acfa7f0a0b30c2ac28eeaf6aed0a30231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa7f0a0b30c2ac28eeaf6aed0a30231">&#9670;&nbsp;</a></span>ComputeHash() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ID ComputeHash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the hash value of the shader code and configuration. </p>
<p>It is computed from the the GLSL code as well as the resource signature of the shader (as determined from its parameters). If two shaders have the same hash, the GLSL code as expanded by codegen should also be the same. </p>

<p>Implemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#a9d802c1047cd5aea9dc92919b2803423">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#a9d802c1047cd5aea9dc92919b2803423">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="a0cb254cccc84edc7c968ac420c68c510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cb254cccc84edc7c968ac420c68c510">&#9670;&nbsp;</a></span>ComputeHash() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HDST_API ID ComputeHash </td>
          <td>(</td>
          <td class="paramtype">HdStShaderCodeSharedPtrVector const &amp;&#160;</td>
          <td class="paramname"><em>shaders</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the combined hash values of multiple shaders. </p>

</div>
</div>
<a id="aa87939b745008a9e4c595ff5a3b7bc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87939b745008a9e4c595ff5a3b7bc47">&#9670;&nbsp;</a></span>ComputeTextureSourceHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ID ComputeTextureSourceHash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the hash value of the paths of the texture prims consumed by this shader. </p>
<p>Unless textures are bindless, shaders using different textures cannot be used in the same draw batch. Since textures can be animated, it can happen that two texture prims use the same texture at some time but different textures at other times. To avoid re-computing the draw batches over time, we use the this hash when grouping the draw batches. </p>

</div>
</div>
<a id="a87c79469678d418e6b22a40cc44c71e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c79469678d418e6b22a40cc44c71e9">&#9670;&nbsp;</a></span>GetLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HDST_API <a class="el" href="class_vt_dictionary.html">VtDictionary</a> GetLayout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a> const &amp;&#160;</td>
          <td class="paramname"><em>shaderStageKeys</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the resource layout for the shader stages specified by <em>shaderStageKeys</em>. </p>
<p>This is initialized using the shader's <a class="el" href="class_hio_glslfx.html" title="A class representing the config and shader source of a glslfx file.">HioGlslfx</a> configuration. </p>

</div>
</div>
<a id="aa083cfe5ffeb293d140939015cfc4bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa083cfe5ffeb293d140939015cfc4bee">&#9670;&nbsp;</a></span>GetMaterialTag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API <a class="el" href="class_tf_token.html">TfToken</a> GetMaterialTag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Material tags can be set in the meta-data of a glslfx file to control what rprim collection that prims using this shader should go into. </p>
<p>E.g. We can use it to split opaque and translucent prims into different collections. When no material tags are specified in the shader, a empty token is returned. </p>

</div>
</div>
<a id="afa5d4e1a8aa32dc92f9da89ff4c92659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5d4e1a8aa32dc92f9da89ff4c92659">&#9670;&nbsp;</a></span>GetNamedTextureHandles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API NamedTextureHandleVector const&amp; GetNamedTextureHandles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Textures that need to be bound for this shader. </p>

<p>Reimplemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#a996cd3d76e498522116cdff37fd780ca">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#a996cd3d76e498522116cdff37fd780ca">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="a33ed1752551f2580e533727f89b421cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ed1752551f2580e533727f89b421cd">&#9670;&nbsp;</a></span>GetParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API HdSt_MaterialParamVector const&amp; GetParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the shader parameters for this shader. </p>

<p>Reimplemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#aa9164a243a42e0f97284b6263c7bd062">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#aa9164a243a42e0f97284b6263c7bd062">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="aca5eb08abdbce73ddf3875154536a422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca5eb08abdbce73ddf3875154536a422">&#9670;&nbsp;</a></span>GetPrimvarNames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API <a class="el" href="token_8h.html#a9d94c69b8de3eb7202797d3c6d56db59">TfTokenVector</a> const&amp; GetPrimvarNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the names of primvar that are used by this shader. </p>

</div>
</div>
<a id="a1c6ec58a09a01194b77a4a6e3f44d58c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6ec58a09a01194b77a4a6e3f44d58c">&#9670;&nbsp;</a></span>GetShaderData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API HdBufferArrayRangeSharedPtr const&amp; GetShaderData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a buffer which stores parameter fallback values and texture handles. </p>

</div>
</div>
<a id="a8717d742607de2b45bea9024d452c00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8717d742607de2b45bea9024d452c00a">&#9670;&nbsp;</a></span>GetSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string GetSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tf_token.html">TfToken</a> const &amp;&#160;</td>
          <td class="paramname"><em>shaderStageKey</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the shader source provided by this shader for <em>shaderStageKey</em>. </p>

<p>Implemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#a908e0465551c896cb54231d81e059d1b">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#a908e0465551c896cb54231d81e059d1b">HdStRenderPassShader</a>.</p>

</div>
</div>
<a id="acaa3f03bbc11d10ddb93f36f864bc55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa3f03bbc11d10ddb93f36f864bc55c">&#9670;&nbsp;</a></span>IsEnabledPrimvarFiltering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HDST_API bool IsEnabledPrimvarFiltering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether primvar filtering is enabled for this shader. </p>

</div>
</div>
<a id="aa5aea916f3a072c69d53a67874958794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aea916f3a072c69d53a67874958794">&#9670;&nbsp;</a></span>UnbindResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void UnbindResources </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HdSt_ResourceBinder const &amp;&#160;</td>
          <td class="paramname"><em>binder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unbinds shader-specific resources. </p>

<p>Implemented in <a class="el" href="class_hd_st_simple_lighting_shader.html#ad68ad0c16d09b39ab29774987a7db6a1">HdStSimpleLightingShader</a>, and <a class="el" href="class_hd_st_render_pass_shader.html#ad68ad0c16d09b39ab29774987a7db6a1">HdStRenderPassShader</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/imaging/hdSt/<a class="el" href="shader_code_8h_source.html">shaderCode.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_hd_st_shader_code.html">HdStShaderCode</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:01 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>