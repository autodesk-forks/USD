<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: PlugStaticInterface&lt; Interface &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_plug_static_interface.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_plug_static_interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PlugStaticInterface&lt; Interface &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides access to an interface into a plugin.  
 <a href="class_plug_static_interface.html#details">More...</a></p>

<p>Inherits Plug_StaticInterfaceBase.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9447beb316df5f846ab75c975cc0d892"><td class="memItemLeft" align="right" valign="top"><a id="a9447beb316df5f846ab75c975cc0d892"></a>
typedef <a class="el" href="class_plug_static_interface.html">PlugStaticInterface</a>&lt; Interface &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>This</b></td></tr>
<tr class="separator:a9447beb316df5f846ab75c975cc0d892"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10c79bb09aeb8efbd9b01ee1fbde0061"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_plug_static_interface.html#a10c79bb09aeb8efbd9b01ee1fbde0061">operator UnspecifiedBoolType</a> () const</td></tr>
<tr class="memdesc:a10c79bb09aeb8efbd9b01ee1fbde0061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load and instantiate then return <code>true</code> if the interface is valid, <code>false</code> otherwise.  <a href="#a10c79bb09aeb8efbd9b01ee1fbde0061">More...</a><br /></td></tr>
<tr class="separator:a10c79bb09aeb8efbd9b01ee1fbde0061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61efd4196a96540ee018fee8791f3f10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_plug_static_interface.html#a61efd4196a96540ee018fee8791f3f10">operator!</a> () const</td></tr>
<tr class="memdesc:a61efd4196a96540ee018fee8791f3f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load and instantiate then return <code>false</code> if the interface is valid, <code>true</code> otherwise.  <a href="#a61efd4196a96540ee018fee8791f3f10">More...</a><br /></td></tr>
<tr class="separator:a61efd4196a96540ee018fee8791f3f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879c94053b6c62e0bfeac35bf9e79aa7"><td class="memItemLeft" align="right" valign="top">Interface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_plug_static_interface.html#a879c94053b6c62e0bfeac35bf9e79aa7">Get</a> () const</td></tr>
<tr class="memdesc:a879c94053b6c62e0bfeac35bf9e79aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the interface pointer, loading the plugin if necessary.  <a href="#a879c94053b6c62e0bfeac35bf9e79aa7">More...</a><br /></td></tr>
<tr class="separator:a879c94053b6c62e0bfeac35bf9e79aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf09871ff9a3b15d91f2c6b915f8b209"><td class="memItemLeft" align="right" valign="top">Interface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_plug_static_interface.html#abf09871ff9a3b15d91f2c6b915f8b209">operator-&gt;</a> () const</td></tr>
<tr class="memdesc:abf09871ff9a3b15d91f2c6b915f8b209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the interface pointer, loading the plugin if necessary.  <a href="#abf09871ff9a3b15d91f2c6b915f8b209">More...</a><br /></td></tr>
<tr class="separator:abf09871ff9a3b15d91f2c6b915f8b209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aab5da55173e85a7802a503bc79b4b"><td class="memItemLeft" align="right" valign="top">Interface &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_plug_static_interface.html#aa3aab5da55173e85a7802a503bc79b4b">operator *</a> () const</td></tr>
<tr class="memdesc:aa3aab5da55173e85a7802a503bc79b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the interface pointer as a reference, loading the plugin if necessary.  <a href="#aa3aab5da55173e85a7802a503bc79b4b">More...</a><br /></td></tr>
<tr class="separator:aa3aab5da55173e85a7802a503bc79b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Interface&gt;<br />
class PlugStaticInterface&lt; Interface &gt;</h3>

<p>Provides access to an interface into a plugin. </p>
<p>A plugin can provide one or more interface types through which clients can access the plugin's full functionality without needing to link against the plugin (if you had to link against it, it wouldn't be a plugin). This is a convenience; you can achieve the same effect with <a class="el" href="class_tf_type.html#a11f5ea108b10ee71f163a847bc494d33" title="Returns the factory object for this type as a T*, or NULL if there is no factory or the factory is no...">TfType::GetFactory()</a>.</p>
<p>Typical usage is: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;path/to/SomePlugin.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="static_interface_8h.html">pxr/base/plug/staticInterface.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="class_plug_static_interface.html">PlugStaticInterface&lt;SomePluginInterface&gt;</a> ptr;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> MyFunction() {</div><div class="line">    <span class="keywordflow">if</span> (ptr) {</div><div class="line">        <span class="comment">// Plugin is available.</span></div><div class="line">        ptr-&gt;MakePluginDoSomething();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> {</div><div class="line">        <span class="comment">// Plugin is not available.  (An error will have been reported</span></div><div class="line">        <span class="comment">// the first time through.)</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>The interface must be defined correctly. In particular, it must have</p>
<ul>
<li>no data members (static or otherwise), </li>
<li>no static member functions, </li>
<li>no non-virtual member functions, </li>
<li>only pure virtual member functions, </li>
<li>no constructors except an inline protected default that does nothing (or no constructors at all,) </li>
<li>a virtual destructor as the first member that <em>must</em> be defined <em>inline</em> with an empty body even though inline virtual destructors are contrary to conventional practice.</li>
</ul>
<p>The last requirement causes the compiler to emit a copy of the interface typeinfo into clients of the interface. This typeinfo is required by <a class="el" href="class_plug_static_interface.html" title="Provides access to an interface into a plugin.">PlugStaticInterface</a> internals to perform the appropriate plugin metadata search for the interface type. Note that due to limitations in the GCC C++ ABI an inline virtual destructor may prevent dynamic_cast&lt;&gt; and typeid() from working correctly; do not use those on the interface type.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SomePluginInterface {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> ~SomePluginInterface() { }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> MakePluginDoSomething() <span class="keyword">const</span> = 0;</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    SomePluginInterface() { }</div><div class="line">};</div></div><!-- fragment --><p> Note that interface types do not share a common base class.</p>
<p>For the plugin to work, there must be a concrete implementation of the interface type, the interface type must be in plugInfo file, and the interface type must be registered with <a class="el" href="class_tf_type.html" title="TfType represents a dynamic runtime type.">TfType</a> using <code>PLUG_REGISTER_INTERFACE_SINGLETON_TYPE:</code> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;path/to/SomePlugin.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="interface_factory_8h.html">pxr/base/plug/interfaceFactory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="keyword">class </span>SomePluginImplementation : <span class="keyword">public</span> SomePluginInterface {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> MakePluginDoSomething()<span class="keyword"> const </span>{</div><div class="line">        <span class="keywordflow">return</span> std::cout &lt;&lt; <span class="stringliteral">&quot;Plugin did something&quot;</span> &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">};</div><div class="line"><a class="code" href="interface_factory_8h.html#a3c453844373f7986fecf7ae9980c31b6">PLUG_REGISTER_INTERFACE_SINGLETON_TYPE</a>(SomePluginInterface,</div><div class="line">                                       SomePluginImplementation)</div></div><!-- fragment --><p> This causes TfType::Find&lt;SomePluginInterface&gt;::Manufacture() to return a pointer to a singleton instance of SomePluginImplementation.</p>
<p>Note that only SomePluginInterface needs to be registered in the plugInfo file and with <a class="el" href="class_tf_type.html" title="TfType represents a dynamic runtime type.">TfType</a>; other types provided by the plugin need only be defined in SomePlugin.h. In addition, SomePluginInterface can provide access to free functions in SomePlugin; clients would otherwise have to use <code>dlsym()</code> to access free functions in the plugin.</p>
<p>Warning: the <code><a class="el" href="class_plug_static_interface.html" title="Provides access to an interface into a plugin.">PlugStaticInterface</a></code> construct relies upon zero-initialization of global data: therefore, you can only use this structure for static data member of classes, variables declared at file-scope, or variables declared static within a function. Do <em>not</em> declare a <code><a class="el" href="class_plug_static_interface.html" title="Provides access to an interface into a plugin.">PlugStaticInterface</a></code> object as a local variable, as a member of a class or structure, or as a function parameter. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00160">160</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a879c94053b6c62e0bfeac35bf9e79aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879c94053b6c62e0bfeac35bf9e79aa7">&#9670;&nbsp;</a></span>Get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Interface* Get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the interface pointer, loading the plugin if necessary. </p>
<p>Returns <code>nullptr</code> if the interface could not be initialized. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00185">185</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>

</div>
</div>
<a id="aa3aab5da55173e85a7802a503bc79b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3aab5da55173e85a7802a503bc79b4b">&#9670;&nbsp;</a></span>operator *()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Interface&amp; operator * </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the interface pointer as a reference, loading the plugin if necessary. </p>
<p>Returns <code>nullptr</code> if the interface could not be initialized. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00200">200</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>

</div>
</div>
<a id="a10c79bb09aeb8efbd9b01ee1fbde0061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c79bb09aeb8efbd9b01ee1fbde0061">&#9670;&nbsp;</a></span>operator UnspecifiedBoolType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operator UnspecifiedBoolType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load and instantiate then return <code>true</code> if the interface is valid, <code>false</code> otherwise. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00171">171</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>

</div>
</div>
<a id="a61efd4196a96540ee018fee8791f3f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61efd4196a96540ee018fee8791f3f10">&#9670;&nbsp;</a></span>operator!()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator! </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load and instantiate then return <code>false</code> if the interface is valid, <code>true</code> otherwise. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00178">178</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>

</div>
</div>
<a id="abf09871ff9a3b15d91f2c6b915f8b209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf09871ff9a3b15d91f2c6b915f8b209">&#9670;&nbsp;</a></span>operator-&gt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Interface* operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the interface pointer, loading the plugin if necessary. </p>
<p>Returns <code>nullptr</code> if the interface could not be initialized. </p>

<p class="definition">Definition at line <a class="el" href="static_interface_8h_source.html#l00192">192</a> of file <a class="el" href="static_interface_8h_source.html">staticInterface.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pxr/base/plug/<a class="el" href="static_interface_8h_source.html">staticInterface.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_plug_static_interface.html">PlugStaticInterface</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:07:03 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>