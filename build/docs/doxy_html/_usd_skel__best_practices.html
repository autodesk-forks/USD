<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: Best Practices</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_usd_skel__best_practices.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Best Practices </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="UsdSkel_BestPractices_JointTransforms"></a>
Joint Transforms</h1>
<p>Currently, UsdSkel only supports encoding orthogonal joint animations. The joint transforms that make up those animations need not be orthonormal, however it is recommended: In practice, not all applications support non-orthonormal transformations on joints, so interchange may not be successful if not adhering to clean, orthonormal transforms.</p>
<h1><a class="anchor" id="UsdSkel_BestPractices_TransformDecomposition"></a>
Transform Decomposition</h1>
<p>UsdSkel provides its own transform decomposition method, <a class="el" href="group___usd_skel___transform_composition_utils.html#gae08cda17ff7925996d26aace2d51e9d0">UsdSkelDecomposeTransforms</a>, for decomposing a transform into translate, rotate and scale components.</p>
<p>Clients may have their own transform decomposition methods with slightly different behavior. As long as <a class="el" href="group___usd_skel___transform_composition_utils.html#gad80f891c3cfe2de677fc04020d5768b1">UsdSkelMakeTransforms</a> returns the correct results, using alternative decomposition methods is <em>fine</em>.</p>
<p>However, it is important that the results of decomposition methods are not mixed. Two decomposition methods may produce different translate, rotate and scale components, but that recombine to form the same transforms, so it may not be valid to set, say, rotations but not translations.</p>
<p>To avoid hard to debug transform composition issues, it is recommended that whenever any of the transform components is set on a <a class="el" href="class_usd_skel_animation.html" title="Describes a skel animation, where joint animation is stored in a vectorized form.">UsdSkelAnimation</a> primitive, <b>all</b> of the components are set.</p>
<h1><a class="anchor" id="UsdSkel_BestPractices_CreatingPrimvars"></a>
Creating Primvars</h1>
<p>When creating primvars using the <a class="el" href="class_usd_skel_binding_a_p_i.html" title="Provides API for authoring and extracting all the skinning-related data that lives in the &quot;geometry h...">UsdSkelBindingAPI</a>, it is good practice to <b>always</b> specify both the primvar <em>interpolation</em> and <em>elementSize</em>. Otherwise, it is very easy to end up with invalid data in a composed scene.</p>
<p>Users are encouraged to use the <a class="el" href="class_usd_skel_binding_a_p_i.html#a404f1352f372d4ba6419abde3bae4402" title="Convenience function to create the jointIndices primvar, optionally specifying elementSize.">UsdSkelBindingAPI::CreateJointIndicesPrimvar</a> and <a class="el" href="class_usd_skel_binding_a_p_i.html#a50e25553069216c12a6683e827fa4457" title="Convenience function to create the jointWeights primvar, optionally specifying elementSize.">UsdSkelBindingAPI::CreateJointWeightsPrimvar</a> helper methods, which ensure that those properties are always correctly defined.</p>
<h1><a class="anchor" id="UsdSkel_BestPractices_SkinnedPrimTypes"></a>
Skinned Prim Types</h1>
<p>It's easy to fall into the trap of assuming that all <a class="el" href="_usd_skel__intro.html#UsdSkel_SkinnablePrims">skinnable prims</a> will be <a class="el" href="class_usd_geom_mesh.html" title="Encodes a mesh with optional subdivision properties and features.">UsdGeomMesh</a> types, or similar. This is not true: any <a class="el" href="class_usd_geom_boundable.html" title="Boundable introduces the ability for a prim to persistently cache a rectilinear, local-space,...">UsdGeomBoundable</a> primitive may be treated as being skinnable. It is the client's responsibility to determine if they know how to skin a given primitive.</p>
<h1><a class="anchor" id="UsdSkel_BestPractices_NumInfluences"></a>
Number of Influences</h1>
<p>Clients should not assume that the number of influences &ndash; I.e,. the primvar <em>elementSize</em> &ndash; will be within some threshold that they consider <em>reasonable</em>. If it is desired that a maximum number of influences be enforced, the client should enforce that by truncating the resulting influences themselves. The <a class="el" href="group___usd_skel___joint_influence_utils.html#gaae0d70275a200052d4c1dba80fe388f4">UsdSkelResizeInfluences</a> helper method may be used towards that end.</p>
<h1><a class="anchor" id="UsdSkel_BestPractices_JointInfluences"></a>
Joint Influences</h1>
<p>UsdSkel does not currently require joint weighting to be normalized, or sorted. It is, however, recommended. This can be done prior to writing data to USD using the <a class="el" href="group___usd_skel___joint_influence_utils.html#ga3021d3989a6265f6bbf09d72114edfed">UsdSkelNormalizeWeights</a> and <a class="el" href="group___usd_skel___joint_influence_utils.html#ga58fea609ea13eb8b9f8c6fe7ab709307">UsdSkelSortInfluences</a> helper methods. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="usd_skel_page_front.html">UsdSkel : USD Skeleton Schema and API</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:06:57 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>