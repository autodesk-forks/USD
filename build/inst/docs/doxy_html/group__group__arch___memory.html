<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: Memory Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group__arch___memory.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memory Management</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions having to do with memory allocation/handling.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:align_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="align_8h.html">align.h</a></td></tr>
<tr class="memdesc:align_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide architecture-specific memory-alignment information. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:malloc_hook_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="malloc_hook_8h.html">mallocHook.h</a></td></tr>
<tr class="memdesc:malloc_hook_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routines for controlling malloc behavior. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arch_malloc_hook.html">ArchMallocHook</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override default malloc() functionality.  <a href="class_arch_malloc_hook.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae41dfc0c4ab056202bad64055e0b5ff8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#gae41dfc0c4ab056202bad64055e0b5ff8">ARCH_MAX_ALIGNMENT_INCREASE</a></td></tr>
<tr class="memdesc:gae41dfc0c4ab056202bad64055e0b5ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum extra space needed for alignment.  <a href="#gae41dfc0c4ab056202bad64055e0b5ff8">More...</a><br /></td></tr>
<tr class="separator:gae41dfc0c4ab056202bad64055e0b5ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02e4c5740adba2d9e9fa154c93f38144"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#ga02e4c5740adba2d9e9fa154c93f38144">ARCH_CACHE_LINE_SIZE</a></td></tr>
<tr class="memdesc:ga02e4c5740adba2d9e9fa154c93f38144"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of a CPU cache line on the current processor architecture in bytes.  <a href="#ga02e4c5740adba2d9e9fa154c93f38144">More...</a><br /></td></tr>
<tr class="separator:ga02e4c5740adba2d9e9fa154c93f38144"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac1700f875faee11949b4908f49ceae1e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#gac1700f875faee11949b4908f49ceae1e">ArchAlignMemorySize</a> (size_t nBytes)</td></tr>
<tr class="memdesc:gac1700f875faee11949b4908f49ceae1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return suitably aligned memory size.  <a href="#gac1700f875faee11949b4908f49ceae1e">More...</a><br /></td></tr>
<tr class="separator:gac1700f875faee11949b4908f49ceae1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2aa2fad73fa2a352d3f9a62a705aedf"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#gaf2aa2fad73fa2a352d3f9a62a705aedf">ArchAlignMemory</a> (void *base)</td></tr>
<tr class="memdesc:gaf2aa2fad73fa2a352d3f9a62a705aedf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Align memory to the next "best" alignment value.  <a href="#gaf2aa2fad73fa2a352d3f9a62a705aedf">More...</a><br /></td></tr>
<tr class="separator:gaf2aa2fad73fa2a352d3f9a62a705aedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga884cbaaa5a6d9a8bd8ce63951678935f"><td class="memItemLeft" align="right" valign="top">ARCH_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#ga884cbaaa5a6d9a8bd8ce63951678935f">ArchAlignedAlloc</a> (size_t alignment, size_t size)</td></tr>
<tr class="memdesc:ga884cbaaa5a6d9a8bd8ce63951678935f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aligned memory allocation.  <a href="#ga884cbaaa5a6d9a8bd8ce63951678935f">More...</a><br /></td></tr>
<tr class="separator:ga884cbaaa5a6d9a8bd8ce63951678935f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa28ba3a6009d0c641ceb685770c4aae8"><td class="memItemLeft" align="right" valign="top">ARCH_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#gaa28ba3a6009d0c641ceb685770c4aae8">ArchAlignedFree</a> (void *ptr)</td></tr>
<tr class="memdesc:gaa28ba3a6009d0c641ceb685770c4aae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free memory allocated by ArchAlignedAlloc.  <a href="#gaa28ba3a6009d0c641ceb685770c4aae8">More...</a><br /></td></tr>
<tr class="separator:gaa28ba3a6009d0c641ceb685770c4aae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccb57380beabe7ab3e243c3c12255f64"><td class="memItemLeft" align="right" valign="top">ARCH_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#gaccb57380beabe7ab3e243c3c12255f64">ArchIsPtmallocActive</a> ()</td></tr>
<tr class="memdesc:gaccb57380beabe7ab3e243c3c12255f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if ptmalloc is being used as the memory allocator.  <a href="#gaccb57380beabe7ab3e243c3c12255f64">More...</a><br /></td></tr>
<tr class="separator:gaccb57380beabe7ab3e243c3c12255f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d6886b4d5ccb20a88366c46ec168ee7"><td class="memItemLeft" align="right" valign="top">ARCH_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__arch___memory.html#ga2d6886b4d5ccb20a88366c46ec168ee7">ArchIsStlAllocatorOff</a> ()</td></tr>
<tr class="memdesc:ga2d6886b4d5ccb20a88366c46ec168ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the C++ STL allocator was requested to be turned off.  <a href="#ga2d6886b4d5ccb20a88366c46ec168ee7">More...</a><br /></td></tr>
<tr class="separator:ga2d6886b4d5ccb20a88366c46ec168ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions having to do with memory allocation/handling. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga02e4c5740adba2d9e9fa154c93f38144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02e4c5740adba2d9e9fa154c93f38144">&#9670;&nbsp;</a></span>ARCH_CACHE_LINE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARCH_CACHE_LINE_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The size of a CPU cache line on the current processor architecture in bytes. </p>

<p class="definition">Definition at line <a class="el" href="align_8h_source.html#l00084">84</a> of file <a class="el" href="align_8h_source.html">align.h</a>.</p>

</div>
</div>
<a id="gae41dfc0c4ab056202bad64055e0b5ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae41dfc0c4ab056202bad64055e0b5ff8">&#9670;&nbsp;</a></span>ARCH_MAX_ALIGNMENT_INCREASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARCH_MAX_ALIGNMENT_INCREASE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum extra space needed for alignment. </p>
<p>The <code><a class="el" href="group__group__arch___memory.html#gac1700f875faee11949b4908f49ceae1e" title="Return suitably aligned memory size.">ArchAlignMemorySize()</a></code> can increase the required memory by no more than <code>ARCH_MAX_ALIGNMENT_INCREASE</code>. </p>

<p class="definition">Definition at line <a class="el" href="align_8h_source.html#l00064">64</a> of file <a class="el" href="align_8h_source.html">align.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga884cbaaa5a6d9a8bd8ce63951678935f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga884cbaaa5a6d9a8bd8ce63951678935f">&#9670;&nbsp;</a></span>ArchAlignedAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARCH_API void* ArchAlignedAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aligned memory allocation. </p>

</div>
</div>
<a id="gaa28ba3a6009d0c641ceb685770c4aae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa28ba3a6009d0c641ceb685770c4aae8">&#9670;&nbsp;</a></span>ArchAlignedFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARCH_API void ArchAlignedFree </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free memory allocated by ArchAlignedAlloc. </p>

</div>
</div>
<a id="gaf2aa2fad73fa2a352d3f9a62a705aedf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2aa2fad73fa2a352d3f9a62a705aedf">&#9670;&nbsp;</a></span>ArchAlignMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* ArchAlignMemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Align memory to the next "best" alignment value. </p>
<p>This will take a pointer and bump it to the next ideal alignment boundary that will work for all data types. </p>

<p class="definition">Definition at line <a class="el" href="align_8h_source.html#l00072">72</a> of file <a class="el" href="align_8h_source.html">align.h</a>.</p>

</div>
</div>
<a id="gac1700f875faee11949b4908f49ceae1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1700f875faee11949b4908f49ceae1e">&#9670;&nbsp;</a></span>ArchAlignMemorySize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ArchAlignMemorySize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nBytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return suitably aligned memory size. </p>
<p>Requests to <code>malloc()</code> or <code>::new</code> for a given size are often rounded upward. Given a request for <code>nBytes</code> bytes of storage, this function returns the amount that would actually be consumed by the system to satisfy it. This is needed for efficient user-defined memory management. </p>

<p class="definition">Definition at line <a class="el" href="align_8h_source.html#l00054">54</a> of file <a class="el" href="align_8h_source.html">align.h</a>.</p>

</div>
</div>
<a id="gaccb57380beabe7ab3e243c3c12255f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccb57380beabe7ab3e243c3c12255f64">&#9670;&nbsp;</a></span>ArchIsPtmallocActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARCH_API bool ArchIsPtmallocActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if ptmalloc is being used as the memory allocator. </p>
<p>ptmalloc3 is an external shared library providing implementations of the standard memory allocation functions (e.g. malloc, free). Consumers with special behavior that depends on this library may use this function to determine if it is the active allocator. </p>

</div>
</div>
<a id="ga2d6886b4d5ccb20a88366c46ec168ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d6886b4d5ccb20a88366c46ec168ee7">&#9670;&nbsp;</a></span>ArchIsStlAllocatorOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ARCH_API bool ArchIsStlAllocatorOff </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if the C++ STL allocator was requested to be turned off. </p>
<p>Under gcc, this is done by setting the environment variable GLIBCXX_FORCE_NEW, but it might differ (or not even be possible) for other platforms. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:06:57 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>