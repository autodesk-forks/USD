<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Universal Scene Description: pxr/usd/ndr/filesystemDiscoveryHelpers.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="usd_style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="https://openusd.org/images/USDIcon.ico"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add warning banner to top of page if current page isn't the release version -->
<script>
function AddWarningBanner() 
{
  // Get current URL
  const loc = new URL(location.href);
  // Look for URL of the format "<USD hostname>/<version|dev|release>/api/<file.html>"
  // NOTE: If versioning approach ever changes, this will need updating
  var apiIndex = loc.pathname.indexOf("/api/");
  if (apiIndex >= 0) {
    // Truncate "/api/..." off path to get preceding path and "/" index
    var truncString = loc.pathname.slice(0,apiIndex);
    // Get index of first "/" before "/api/"
    var preApiIndex = truncString.lastIndexOf("/");
    var verString = truncString.slice(preApiIndex + 1);
    // if the current page isn't the release version, add a warning banner 
    if (verString !== "release") {
      // Create alternate "release" URL for page
      // NOTE: This won't always be a valid URL, e.g. if dev release has a brand new page
      var relURL = loc.pathname.substring(0,preApiIndex) + "/release" + loc.pathname.substring(apiIndex);
      var banner = document.createElement("div");
      banner.className = "non_release_version_warning";
      if (verString === "dev") {
        banner.innerHTML = "This document is for a version of USD that is under development. See <a href='" + relURL + "'>this page</a> for the current release.";
      } else {
        // For now, we assume any other string is an older version string
        banner.innerHTML = "This document is for an older version of USD. See <a href='" + relURL + "'>this page</a> for the current release.";
      }
      document.body.insertBefore(banner,document.body.childNodes[0]);
    }
  }
} 
</script>
</head>
<body onload="AddWarningBanner()">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="USDLogoDocs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('filesystem_discovery_helpers_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">filesystemDiscoveryHelpers.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides utilities that the default filesystem discovery plugin uses.  
<a href="#details">More...</a></p>
<div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for filesystemDiscoveryHelpers.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="filesystem_discovery_helpers_8h__incl.png" border="0" usemap="#pxr_2usd_2ndr_2filesystem_discovery_helpers_8h" alt=""/></div>
<map name="pxr_2usd_2ndr_2filesystem_discovery_helpers_8h" id="pxr_2usd_2ndr_2filesystem_discovery_helpers_8h">
<area shape="rect"  title="Provides utilities that the default filesystem discovery plugin uses." alt="" coords="1321,6,1553,47"/>
<area shape="rect"  href="pxr_8h.html" title=" " alt="" coords="1568,635,1646,661"/>
<area shape="rect"  href="usd_2ndr_2api_8h_source.html" title=" " alt="" coords="346,261,477,288"/>
<area shape="rect"  href="usd_2ndr_2declare_8h.html" title=" " alt="" coords="1222,187,1380,213"/>
<area shape="rect"  href="node_discovery_result_8h_source.html" title=" " alt="" coords="1339,97,1534,138"/>
<area shape="rect"  title=" " alt="" coords="2220,104,2306,131"/>
<area shape="rect"  href="export_8h.html" title="Defines symbol visibility macros." alt="" coords="672,560,840,587"/>
<area shape="rect"  href="defines_8h_source.html" title=" " alt="" coords="762,635,936,661"/>
<area shape="rect"  href="token_8h.html" title="TfToken class for efficient string referencing and hashing, plus conversions to and from stl string c..." alt="" coords="962,261,1106,288"/>
<area shape="rect"  title=" " alt="" coords="1164,411,1241,437"/>
<area shape="rect"  title=" " alt="" coords="305,411,364,437"/>
<area shape="rect"  title=" " alt="" coords="1239,261,1362,288"/>
<area shape="rect"  title=" " alt="" coords="1980,411,2094,437"/>
<area shape="rect"  title=" " alt="" coords="1076,411,1138,437"/>
<area shape="rect"  href="base_2tf_2api_8h_source.html" title=" " alt="" coords="1060,485,1188,512"/>
<area shape="rect"  href="diagnostic_lite_8h.html" title="Stripped down version of diagnostic.h that doesn&#39;t define std::string." alt="" coords="1439,336,1637,363"/>
<area shape="rect"  href="tf_2hash_8h.html" title=" " alt="" coords="794,336,933,363"/>
<area shape="rect"  href="hashset_8h_source.html" title=" " alt="" coords="1863,336,2021,363"/>
<area shape="rect"  href="pointer_and_bits_8h_source.html" title=" " alt="" coords="76,411,280,437"/>
<area shape="rect"  title=" " alt="" coords="704,336,770,363"/>
<area shape="rect"  title=" " alt="" coords="1098,336,1162,363"/>
<area shape="rect"  title=" " alt="" coords="388,411,430,437"/>
<area shape="rect"  href="attributes_8h.html" title="Define function attributes." alt="" coords="1513,485,1702,512"/>
<area shape="rect"  href="build_mode_8h_source.html" title=" " alt="" coords="1047,560,1240,587"/>
<area shape="rect"  href="hints_8h.html" title="Compiler hints." alt="" coords="864,560,1022,587"/>
<area shape="rect"  href="call_context_8h.html" title="Functions for recording call locations." alt="" coords="1418,411,1600,437"/>
<area shape="rect"  title=" " alt="" coords="1414,485,1489,512"/>
<area shape="rect"  href="function_lite_8h.html" title="Define preprocessor function name macros." alt="" coords="1316,560,1518,587"/>
<area shape="rect"  href="tf_8h.html" title="A file containing basic constants and definitions." alt="" coords="646,411,764,437"/>
<area shape="rect"  title=" " alt="" coords="556,411,622,437"/>
<area shape="rect"  title=" " alt="" coords="838,411,889,437"/>
<area shape="rect"  title=" " alt="" coords="914,411,1000,437"/>
<area shape="rect"  title=" " alt="" coords="158,485,249,512"/>
<area shape="rect"  title=" " alt="" coords="300,485,360,512"/>
<area shape="rect"  href="arch_2math_8h.html" title="Architecture&#45;specific math function calls." alt="" coords="436,485,596,512"/>
<area shape="rect"  href="inttypes_8h.html" title="Define integral types." alt="" coords="229,560,408,587"/>
<area shape="rect"  title=" " alt="" coords="672,485,740,512"/>
<area shape="rect"  title=" " alt="" coords="483,560,545,587"/>
<area shape="rect"  title=" " alt="" coords="220,635,302,661"/>
<area shape="rect"  title=" " alt="" coords="68,635,134,661"/>
<area shape="rect"  title=" " alt="" coords="326,635,422,661"/>
<area shape="rect"  href="pragmas_8h.html" title="Pragmas for controlling compiler&#45;specific behaviors." alt="" coords="22,560,204,587"/>
</map>
</div>
</div>
<p><a href="filesystem_discovery_helpers_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_ndr_discovery_uri"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#struct_ndr_discovery_uri">NdrDiscoveryUri</a></td></tr>
<tr class="memdesc:struct_ndr_discovery_uri"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for holding a URI and its resolved URI for a file discovered by NdrFsHelpersDiscoverFiles.  <a href="filesystem_discovery_helpers_8h.html#struct_ndr_discovery_uri">More...</a><br /></td></tr>
<tr class="separator:struct_ndr_discovery_uri"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa133864941b8fb3d3a0a44758bb8819c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#aa133864941b8fb3d3a0a44758bb8819c">NdrParseIdentifierFn</a> = std::function&lt; bool(const <a class="el" href="class_tf_token.html">TfToken</a> &amp;identifier, <a class="el" href="class_tf_token.html">TfToken</a> *family, <a class="el" href="class_tf_token.html">TfToken</a> *name, NdrVersion *version)&gt;</td></tr>
<tr class="memdesc:aa133864941b8fb3d3a0a44758bb8819c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a function that can be used to parse a discovery result's identifier into its family, name, and version.  <a href="#aa133864941b8fb3d3a0a44758bb8819c">More...</a><br /></td></tr>
<tr class="separator:aa133864941b8fb3d3a0a44758bb8819c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c70b3b18985fbc47407412b4c61c524"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#a3c70b3b18985fbc47407412b4c61c524">NdrDiscoveryUriVec</a> = std::vector&lt; <a class="el" href="filesystem_discovery_helpers_8h.html#struct_ndr_discovery_uri">NdrDiscoveryUri</a> &gt;</td></tr>
<tr class="memdesc:a3c70b3b18985fbc47407412b4c61c524"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector of URI/resolved URI structs.  <a href="#a3c70b3b18985fbc47407412b4c61c524">More...</a><br /></td></tr>
<tr class="separator:a3c70b3b18985fbc47407412b4c61c524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa9511324cdab5dccbb4367c143086fdb"><td class="memItemLeft" align="right" valign="top">NDR_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#aa9511324cdab5dccbb4367c143086fdb">NdrFsHelpersSplitShaderIdentifier</a> (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;identifier, <a class="el" href="class_tf_token.html">TfToken</a> *family, <a class="el" href="class_tf_token.html">TfToken</a> *name, NdrVersion *version)</td></tr>
<tr class="memdesc:aa9511324cdab5dccbb4367c143086fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a shader's <code>identifier</code> token, computes the corresponding <a class="el" href="class_ndr_node.html" title="Represents an abstract node.">NdrNode</a>'s family name, implementation name and shader version (as NdrVersion).  <a href="#aa9511324cdab5dccbb4367c143086fdb">More...</a><br /></td></tr>
<tr class="separator:aa9511324cdab5dccbb4367c143086fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235c530023a4e18615c54baffb809bd2"><td class="memItemLeft" align="right" valign="top">NDR_API NdrNodeDiscoveryResultVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#a235c530023a4e18615c54baffb809bd2">NdrFsHelpersDiscoverNodes</a> (const NdrStringVec &amp;searchPaths, const NdrStringVec &amp;allowedExtensions, bool followSymlinks=true, const <a class="el" href="class_ndr_discovery_plugin_context.html">NdrDiscoveryPluginContext</a> *context=nullptr, const <a class="el" href="filesystem_discovery_helpers_8h.html#aa133864941b8fb3d3a0a44758bb8819c">NdrParseIdentifierFn</a> &amp;parseIdentifierFn=<a class="el" href="filesystem_discovery_helpers_8h.html#aa9511324cdab5dccbb4367c143086fdb">NdrFsHelpersSplitShaderIdentifier</a>)</td></tr>
<tr class="memdesc:a235c530023a4e18615c54baffb809bd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of discovery results that have been found while walking the given search paths.  <a href="#a235c530023a4e18615c54baffb809bd2">More...</a><br /></td></tr>
<tr class="separator:a235c530023a4e18615c54baffb809bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af174984b37cc06795958af4e0c371371"><td class="memItemLeft" align="right" valign="top">NDR_API <a class="el" href="filesystem_discovery_helpers_8h.html#a3c70b3b18985fbc47407412b4c61c524">NdrDiscoveryUriVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesystem_discovery_helpers_8h.html#af174984b37cc06795958af4e0c371371">NdrFsHelpersDiscoverFiles</a> (const NdrStringVec &amp;searchPaths, const NdrStringVec &amp;allowedExtensions, bool followSymlinks=true)</td></tr>
<tr class="memdesc:af174984b37cc06795958af4e0c371371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of discovered URIs (as both the unresolved URI and the resolved URI) that are found while walking the given search paths.  <a href="#af174984b37cc06795958af4e0c371371">More...</a><br /></td></tr>
<tr class="separator:af174984b37cc06795958af4e0c371371"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides utilities that the default filesystem discovery plugin uses. </p>
<p>If a custom filesystem discovery plugin is needed, these can be used to fill in a large chunk of the functionality. </p>

<p class="definition">Definition in file <a class="el" href="filesystem_discovery_helpers_8h_source.html">filesystemDiscoveryHelpers.h</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_ndr_discovery_uri" id="struct_ndr_discovery_uri"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_ndr_discovery_uri">&#9670;&nbsp;</a></span>NdrDiscoveryUri</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct NdrDiscoveryUri</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Struct for holding a URI and its resolved URI for a file discovered by NdrFsHelpersDiscoverFiles. </p>

<p class="definition">Definition at line <a class="el" href="filesystem_discovery_helpers_8h_source.html#l00112">112</a> of file <a class="el" href="filesystem_discovery_helpers_8h_source.html">filesystemDiscoveryHelpers.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="adb3208323a4756e73fa6e17e2c432fbf"></a>string</td>
<td class="fieldname">
resolvedUri</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0b26cd6c56b8561ce83a9eff61dee7c0"></a>string</td>
<td class="fieldname">
uri</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3c70b3b18985fbc47407412b4c61c524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c70b3b18985fbc47407412b4c61c524">&#9670;&nbsp;</a></span>NdrDiscoveryUriVec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="filesystem_discovery_helpers_8h.html#a3c70b3b18985fbc47407412b4c61c524">NdrDiscoveryUriVec</a> =  std::vector&lt;<a class="el" href="filesystem_discovery_helpers_8h.html#struct_ndr_discovery_uri">NdrDiscoveryUri</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A vector of URI/resolved URI structs. </p>

<p class="definition">Definition at line <a class="el" href="filesystem_discovery_helpers_8h_source.html#l00119">119</a> of file <a class="el" href="filesystem_discovery_helpers_8h_source.html">filesystemDiscoveryHelpers.h</a>.</p>

</div>
</div>
<a id="aa133864941b8fb3d3a0a44758bb8819c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa133864941b8fb3d3a0a44758bb8819c">&#9670;&nbsp;</a></span>NdrParseIdentifierFn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="filesystem_discovery_helpers_8h.html#aa133864941b8fb3d3a0a44758bb8819c">NdrParseIdentifierFn</a> =  std::function&lt; bool (const <a class="el" href="class_tf_token.html">TfToken</a> &amp;identifier, <a class="el" href="class_tf_token.html">TfToken</a> *family, <a class="el" href="class_tf_token.html">TfToken</a> *name, NdrVersion *version)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a function that can be used to parse a discovery result's identifier into its family, name, and version. </p>

<p class="definition">Definition at line <a class="el" href="filesystem_discovery_helpers_8h_source.html#l00054">54</a> of file <a class="el" href="filesystem_discovery_helpers_8h_source.html">filesystemDiscoveryHelpers.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af174984b37cc06795958af4e0c371371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af174984b37cc06795958af4e0c371371">&#9670;&nbsp;</a></span>NdrFsHelpersDiscoverFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDR_API <a class="el" href="filesystem_discovery_helpers_8h.html#a3c70b3b18985fbc47407412b4c61c524">NdrDiscoveryUriVec</a> NdrFsHelpersDiscoverFiles </td>
          <td>(</td>
          <td class="paramtype">const NdrStringVec &amp;&#160;</td>
          <td class="paramname"><em>searchPaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const NdrStringVec &amp;&#160;</td>
          <td class="paramname"><em>allowedExtensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>followSymlinks</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a vector of discovered URIs (as both the unresolved URI and the resolved URI) that are found while walking the given search paths. </p>
<p>Each path in <code>searchPaths</code> is walked recursively, optionally following symlinks if <code>followSymlinks</code> is true, looking for files that match one of the provided <code>allowedExtensions</code>. These files' unresolved and resolved URIs are returned in the result vector.</p>
<p>This is an alternative to NdrFsHelpersDiscoverNodes for discovery plugins that want to search for files that are not meant to be returned by discovery themselves, but can be parsed to generate the discovery results. </p>

</div>
</div>
<a id="a235c530023a4e18615c54baffb809bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235c530023a4e18615c54baffb809bd2">&#9670;&nbsp;</a></span>NdrFsHelpersDiscoverNodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDR_API NdrNodeDiscoveryResultVec NdrFsHelpersDiscoverNodes </td>
          <td>(</td>
          <td class="paramtype">const NdrStringVec &amp;&#160;</td>
          <td class="paramname"><em>searchPaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const NdrStringVec &amp;&#160;</td>
          <td class="paramname"><em>allowedExtensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>followSymlinks</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_ndr_discovery_plugin_context.html">NdrDiscoveryPluginContext</a> *&#160;</td>
          <td class="paramname"><em>context</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="filesystem_discovery_helpers_8h.html#aa133864941b8fb3d3a0a44758bb8819c">NdrParseIdentifierFn</a> &amp;&#160;</td>
          <td class="paramname"><em>parseIdentifierFn</em> = <code><a class="el" href="filesystem_discovery_helpers_8h.html#aa9511324cdab5dccbb4367c143086fdb">NdrFsHelpersSplitShaderIdentifier</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a vector of discovery results that have been found while walking the given search paths. </p>
<p>Each path in <code>searchPaths</code> is walked recursively, optionally following symlinks if <code>followSymlinks</code> is true, looking for files that match one of the provided <code>allowedExtensions</code>. These files are represented in the discovery results that are returned.</p>
<p>The identifier for each discovery result is the base name of the represented file with the extension removed. The <code>parseIdentifierFn</code> is used to parse the family, name, and version from the identifier that will set in the file's discovery result. By default, NdrFsHelpersSplitShaderIdentifier is used to parse the identifier, but the family/name/version parsing behavior can be changed by passing a custom parseIdentifierFn. Any identifiers that cannot be parsed by whatever the parseIdentifierFn will be considered invalid and not added as a discovery result. Note that the version for every discovery result returned by this function will be naively marked as being default even if multiple versions with the same name are found. </p>

</div>
</div>
<a id="aa9511324cdab5dccbb4367c143086fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9511324cdab5dccbb4367c143086fdb">&#9670;&nbsp;</a></span>NdrFsHelpersSplitShaderIdentifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDR_API bool NdrFsHelpersSplitShaderIdentifier </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_tf_token.html">TfToken</a> &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tf_token.html">TfToken</a> *&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tf_token.html">TfToken</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NdrVersion *&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a shader's <code>identifier</code> token, computes the corresponding <a class="el" href="class_ndr_node.html" title="Represents an abstract node.">NdrNode</a>'s family name, implementation name and shader version (as NdrVersion). </p>
<ul>
<li><code>family</code> is the prefix of <code>identifier</code> up to and not including the first underscore.</li>
<li><code>version</code> is the suffix of <code>identifier</code> comprised of one or two integers representing the major and minor version numbers.</li>
<li><code>name</code> is the string we get by joining <em>family</em> with everything that's in between <em>family</em> and <em>version</em> with an underscore.</li>
</ul>
<p>Returns true if <code>identifier</code> is valid and was successfully split into the different components.</p>
<dl class="section note"><dt>Note</dt><dd>The python version of this function returns a tuple containing (famiyName, implementationName, version). </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1d43f220d4da368b75944030615bc443.html">pxr</a></li><li class="navelem"><a class="el" href="dir_fafd91b7641c397779b618d03aa7d94c.html">usd</a></li><li class="navelem"><a class="el" href="dir_14948ed6c03aadaf5c5707bf54f5a116.html">ndr</a></li><li class="navelem"><a class="el" href="filesystem_discovery_helpers_8h.html">filesystemDiscoveryHelpers.h</a></li>
    <li class="footer">&copy; Copyright 2023, Pixar Animation Studios. Generated on Mon Nov 20 2023 16:06:55 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>